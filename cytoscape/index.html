<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Molecular Networking in Cytoscape - GNPS Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Molecular Networking in Cytoscape";
    var mkdocs_page_input_path = "cytoscape.md";
    var mkdocs_page_url = "/cytoscape/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-8412213-5', 'ccms-ucsd.github.io');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> GNPS Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">GNPS Introduction</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../isgnpsright/">Is my data compatible with GNPS?</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../faq/">Frequently Asked Questions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../superquickstart/">Superquick Start Guide</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../quickstart/">Quick Start Guide</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../gnpsanalysisoverview/">GNPS Analysis Tools Overview</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../changelog/">Change Log</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../contact/">Contact</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../workshops/">GNPS Workshops</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Mass Spec/Computational Background</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../massspecbackground/networkingtheory/">Molecular Networking</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Data Preparation/Upload</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../fileconversion/">Mass Spectrometry File Conversion</a>
                </li>
                <li class="">
                    
    <a class="" href="../fileupload/">GNPS File Upload</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Recommended Data Analysis</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../networking/">Molecular Networking</a>
                </li>
                <li class="">
                    
    <a class="" href="../networkingviews/">Molecular Networking Views</a>
                </li>
                <li class="">
                    
    <a class="" href="../librarysearch/">Spectral Library Search</a>
                </li>
                <li class="">
                    
    <a class="" href="../molblast/">Molecular BLAST (MASST) Search</a>
                </li>
                <li class="">
                    
    <a class="" href="../resultviews/">Result Views Navigation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Advanced Data Analysis</span>
    <ul class="subnav">
                <li class=" current">
                    
    <a class="current" href="./">Molecular Networking in Cytoscape</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#network-visualization-in-cytoscape">Network Visualization in Cytoscape</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#cytoscape-36-analysis-quick">Cytoscape 3.6 Analysis (Quick)</a></li>
        
            <li><a class="toctree-l4" href="#cytoscape-36-analysis-recommended">Cytoscape 3.6 Analysis (Recommended)</a></li>
        
            <li><a class="toctree-l4" href="#cytoscape-28-analysis-legacy">Cytoscape 2.8 Analysis (Legacy)</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../dereplicator/">Dereplicator</a>
                </li>
                <li class="">
                    
    <a class="" href="../nap/">Network Annotation Propagation (NAP)</a>
                </li>
                <li class="">
                    
    <a class="" href="../featurebasedmolecularnetworking/">Feature Based Molecular Networking</a>
                </li>
                <li class="">
                    
    <a class="" href="../ms2lda/">MS2LDA and MotifDB Substructure Discovery</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Community/Social Features</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Spectral Libraries</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../browselibraries/">Browsing Reference Spectral Libraries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../spectrumcuration/">Reference Spectral Library Curation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../batchupload/">Reference Spectral Library Batch Addition</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../downloadlibraries/">Downloading Reference Spectral Libraries</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Datasets</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../datasets/">Dataset Creation/Sharing</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../continuousid/">Continuous Identification</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../moleculeexplorer/">Molecule Explorer</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../user/">User Page</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../troubleshooting/">Troubleshooting</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tutorial Guides</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../tutorials/bacterianetworking/">Molecular Networking - Analog Discovery in Microbial Extracts</a>
                </li>
                <li class="">
                    
    <a class="" href="../tutorials/americangutmzmine/">Feature Based Molecular Networking - MZmine2 Feature Detection - Microbiome Molecules in Fecal Samples in American Gut Project</a>
                </li>
                <li class="">
                    
    <a class="" href="../tutorials/featurebasedgnps/">Feature Based Molecular Networking - GNPS</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Presentation Materials</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../logos/">Logos</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">GNPS Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Advanced Data Analysis &raquo;</li>
        
      
    
    <li>Molecular Networking in Cytoscape</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="network-visualization-in-cytoscape">Network Visualization in Cytoscape</h1>
<p>While we do provide in-browser visualization for networks, these are limited to a single component at a time. Using Cytoscape, we can start visualizing the entire molecular network at once.</p>
<p>Cytoscape is an open source software platform for visualization and annotation of networks. Cytoscape is available for download from <a href="http://www.cytoscape.org">here</a>. The instructions below assume that you have installed Cytoscape 3.6.X.</p>
<h2 id="cytoscape-36-analysis-quick">Cytoscape 3.6 Analysis (Quick)</h2>
<p>To quickly get started with your molecular network in Cytoscape, we have an easy export module from GNPS that previews the molecular network and provides a pre-formatted Cytoscape file. This feature is very much experimental, but from the status page, click the "Direct Cytoscape Preview/Download"</p>
<p><img alt="img" src="../img/cytoscape/cytoscape_preview.png" /></p>
<p>This will bring you to a new interface where you will see a preview and a download link.</p>
<p><img alt="img" src="../img/cytoscape/cytoscape_preview_download.png" /></p>
<h2 id="cytoscape-36-analysis-recommended">Cytoscape 3.6 Analysis (Recommended)</h2>
<h3 id="downloading-cytoscape-import-files">Downloading Cytoscape Import Files</h3>
<p>The first step is to download the correct input to import into Cytoscape. From the results page of molecular networking, you will need to download the graphML file for Cytoscape.</p>
<p><img alt="img" src="../img/cytoscape/download_graphml.png" /></p>
<p>Unzip the content of the zip file. The content will look like this:</p>
<p><img alt="img" src="../img/cytoscape/unzip.png" /></p>
<h3 id="importing-network-into-cytoscape">Importing Network into Cytoscape</h3>
<p>Now open Cytoscape 3.6.1. From the Toolbar go to File / Import / Network / File (or cmd + L) and then select the .graphml file in the root of the unzipped job folder.</p>
<p><img alt="img" src="../img/cytoscape/import_button.png" /></p>
<p>The network has been opened and will look like this.</p>
<p><img alt="img" src="../img/cytoscape/import_2.png" /></p>
<h3 id="creating-a-cytoscape-style">Creating a Cytoscape Style</h3>
<p>In Cytoscape 3.6.1, create a new Cytoscape style. As shown below, click on "Create New Style" and provide a name.</p>
<p><img alt="img" src="../img/cytoscape/create_style.png" /></p>
<h3 id="node-styling">Node Styling</h3>
<h4 id="node-label-to-spectrum-property">Node Label to Spectrum Property</h4>
<p>Within the Node menu, you will be able to apply a label to each of your nodes, you may select the Attribute from the drop down menu to use as a label and then select Passthrough Mapping as the Mapping Type. Typically Parent mass or Precursor mass is selected for node labels of networks generated using GNPS.</p>
<p><img alt="img" src="../img/cytoscape/label_passthrough.png" /></p>
<h4 id="visualizing-group-abundances-as-pie-charts">Visualizing Group Abundances as Pie Charts</h4>
<p>If you organized your data into cohorts of samples, we can visualize the relative abundance (as measured by spectral counts which is psuedo-quantitative) with pie charts across these groups.</p>
<p><img alt="img" src="../img/cytoscape/pie_chart.png" /></p>
<h4 id="visualizing-structures">Visualizing Structures</h4>
<p>The Cytoscape plugin ChemViz2 can visualize the chemical structure of GNPS spectral library annotation in the nodes. The ChemViz2 plugin can be be installed in the toolbar Apps /Apps manager / and type "ChemViz2" to find and install it.</p>
<p>To visualize chemical structures, select the nodes of interest and do right-click, Apps / Cheminformatics tools / Paint structure on selected nodes.</p>
<p><img alt="img" src="../img/cytoscape/chemviz.png" /></p>
<p>Also check out their <a href="http://www.cgl.ucsf.edu/cytoscape/chemViz2/index.shtml">website</a>.</p>
<h3 id="edge-styling">Edge Styling</h3>
<h4 id="edge-thickness-based-on-spectral-similarity">Edge Thickness based on Spectral Similarity</h4>
<p>To aid in the visualization of individual node relatedness within a cluster, the cosine score is used. This value will determine the thickness of the edge between related nodes. The thicker the edge, the higher the cosine score and therefore the more related the two individual nodes are to each other.</p>
<p>Again working within the Style Tab, select the Edge menu. From the Width drop down menu, select Cosine for the Column and Continuous Mapping for the Mapping Type.</p>
<p><img alt="img" src="../img/cytoscape/edge_1.png" /></p>
<p>Double click on the Continuous Mapping area of the menu to adjust the thickness of the edge. Click OK to apply the setting changes.</p>
<p><img alt="img" src="../img/cytoscape/edge_2.png" /></p>
<p>Below is a zoomed in portion of a network demonstrating the use of Cosine score for edge width determination.</p>
<p><img alt="img" src="../img/cytoscape/edge_3.png" /></p>
<h2 id="cytoscape-28-analysis-legacy">Cytoscape 2.8 Analysis (Legacy)</h2>
<p>See <a href="https://bix-lab.ucsd.edu/display/Public/Cytoscape+2.8.X+Visualization+and+Analysis+Documentation">legacy documentation</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../dereplicator/" class="btn btn-neutral float-right" title="Dereplicator">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../resultviews/" class="btn btn-neutral" title="Result Views Navigation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../resultviews/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../dereplicator/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
