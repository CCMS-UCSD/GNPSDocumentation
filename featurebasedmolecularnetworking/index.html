



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.9.0">
    
    
      
        <title>FBMN Workflow - GNPS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.4f4f49e8.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#feature-based-molecular-networking-fbmn" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="GNPS Documentation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                GNPS Documentation
              </span>
              <span class="md-header-nav__topic">
                FBMN Workflow
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </span>
    GNPS Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="GNPS Introduction" class="md-nav__link">
      GNPS Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../isgnpsright/" title="Is my data compatible with GNPS?" class="md-nav__link">
      Is my data compatible with GNPS?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="Frequently Asked Questions" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../superquickstart/" title="Superquick Start Guide" class="md-nav__link">
      Superquick Start Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gnpsanalysisoverview/" title="GNPS Analysis Tools Overview" class="md-nav__link">
      GNPS Analysis Tools Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Mass Spec/Computational Background
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Mass Spec/Computational Background
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../massspecbackground/networkingtheory/" title="Molecular Networking" class="md-nav__link">
      Molecular Networking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Data Preparation/Upload
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Data Preparation/Upload
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../fileconversion/" title="Mass Spectrometry File Conversion" class="md-nav__link">
      Mass Spectrometry File Conversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fileupload/" title="GNPS File Upload" class="md-nav__link">
      GNPS File Upload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metadata/" title="Metadata" class="md-nav__link">
      Metadata
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Recommended Data Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Recommended Data Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../networking/" title="Molecular Networking" class="md-nav__link">
      Molecular Networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../networkingviews/" title="Molecular Networking Views" class="md-nav__link">
      Molecular Networking Views
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../librarysearch/" title="Spectral Library Search" class="md-nav__link">
      Spectral Library Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../masst/" title="MASST Search (Mass Search Tool)" class="md-nav__link">
      MASST Search (Mass Search Tool)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resultviews/" title="Result Views Navigation" class="md-nav__link">
      Result Views Navigation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">
      Advanced Data Analysis
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Advanced Data Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../dereplicator/" title="DEREPLICATOR" class="md-nav__link">
      DEREPLICATOR
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-2" type="checkbox" id="nav-10-2" checked>
    
    <label class="md-nav__link" for="nav-10-2">
      Feature Based Molecular Networking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-10-2">
        Feature Based Molecular Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        FBMN Workflow
      </label>
    
    <a href="./" title="FBMN Workflow" class="md-nav__link md-nav__link--active">
      FBMN Workflow
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citations" title="Citations" class="md-nav__link">
    Citations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mass-spectrometry-data-processing-for-the-feature-based-molecular-networking-workflow" title="Mass Spectrometry Data Processing for the Feature Based Molecular Networking Workflow" class="md-nav__link">
    Mass Spectrometry Data Processing for the Feature Based Molecular Networking Workflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mass-spectrometry-data-feature-detection-with-mzmine2-recommended" title="Mass Spectrometry Data Feature Detection with MZmine2 [RECOMMENDED]" class="md-nav__link">
    Mass Spectrometry Data Feature Detection with MZmine2 [RECOMMENDED]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-feature-based-molecular-networking-workflow-in-gnps" title="The Feature Based Molecular Networking Workflow in GNPS" class="md-nav__link">
    The Feature Based Molecular Networking Workflow in GNPS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirement-for-the-fbmn-workflow" title="Requirement for the FBMN workflow" class="md-nav__link">
    Requirement for the FBMN workflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superquick-feature-based-molecular-networking-workflow" title="SuperQuick Feature Based Molecular Networking Workflow" class="md-nav__link">
    SuperQuick Feature Based Molecular Networking Workflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-the-superquick-fbmn" title="Running the SuperQuick FBMN" class="md-nav__link">
    Running the SuperQuick FBMN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview-of-the-standard-feature-based-molecular-networking-workflow" title="Overview of the "standard" Feature Based Molecular Networking Workflow" class="md-nav__link">
    Overview of the "standard" Feature Based Molecular Networking Workflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#select-the-software-used-for-the-lc-msms-data-processing" title="Select the software used for the LC-MS/MS data processing" class="md-nav__link">
    Select the software used for the LC-MS/MS data processing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#molecular-networks-options" title="Molecular Networks Options" class="md-nav__link">
    Molecular Networks Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-options" title="Basic Options" class="md-nav__link">
    Basic Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-molecular-network-options" title="Advanced Molecular Network Options" class="md-nav__link">
    Advanced Molecular Network Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-spectral-library-search-options" title="Advanced Spectral Library Search Options" class="md-nav__link">
    Advanced Spectral Library Search Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-filtering-options-for-spectra" title="Advanced Filtering Options (for Spectra)" class="md-nav__link">
    Advanced Filtering Options (for Spectra)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-quantification-options" title="Advanced quantification options" class="md-nav__link">
    Advanced quantification options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspecting-the-results-of-fbmn-on-gnps" title="Inspecting the Results of FBMN on GNPS" class="md-nav__link">
    Inspecting the Results of FBMN on GNPS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spectral-library-match-and-network-topology-analysis" title="Spectral Library Match and Network Topology Analysis" class="md-nav__link">
    Spectral Library Match and Network Topology Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-browser-molecular-network-visualization" title="Web-browser Molecular Network Visualization" class="md-nav__link">
    Web-browser Molecular Network Visualization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dereplicator-insilico-peptidic-natural-products-tool" title="Dereplicator - Insilico Peptidic Natural Products Tool" class="md-nav__link">
    Dereplicator - Insilico Peptidic Natural Products Tool
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspecting-the-results-of-fbmn-in-cytoscape" title="Inspecting the Results of FBMN in Cytoscape" class="md-nav__link">
    Inspecting the Results of FBMN in Cytoscape
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo-gnps-job-of-feature-based-molecular-networking" title="Demo GNPS job of Feature Based Molecular Networking" class="md-nav__link">
    Demo GNPS job of Feature Based Molecular Networking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-network-annotation-propagation" title="Running Network Annotation Propagation" class="md-nav__link">
    Running Network Annotation Propagation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-ms2lda-substructure-discovery" title="Running MS2LDA Substructure Discovery" class="md-nav__link">
    Running MS2LDA Substructure Discovery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-the-pcoa-plot-with-emperor-in-qiime2" title="Viewing the PCoA plot with EMPeror in Qiime2" class="md-nav__link">
    Viewing the PCoA plot with EMPeror in Qiime2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-tutorial-analyze-feature-based-molecular-networking-in-gnps" title="Video Tutorial - Analyze Feature Based Molecular Networking in GNPS" class="md-nav__link">
    Video Tutorial - Analyze Feature Based Molecular Networking in GNPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorials" title="Tutorials" class="md-nav__link">
    Tutorials
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development" title="Development" class="md-nav__link">
    Development
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-code" title="Source code" class="md-nav__link">
    Source code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-files-requirements" title="Input files requirements" class="md-nav__link">
    Input files requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" title="Citation" class="md-nav__link">
    Citation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-contributors" title="Page contributors" class="md-nav__link">
    Page contributors
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-mzmine2/" title="FBMN with MZmine2" class="md-nav__link">
      FBMN with MZmine2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-ms-dial/" title="FBMN with MS-DIAL" class="md-nav__link">
      FBMN with MS-DIAL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-xcms3/" title="FBMN with XCMS3" class="md-nav__link">
      FBMN with XCMS3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-openms/" title="FBMN with OpenMS" class="md-nav__link">
      FBMN with OpenMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-metaboscape/" title="FBMN with MetaboScape" class="md-nav__link">
      FBMN with MetaboScape
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-progenesisQI/" title="FBMN with Progenesis QI" class="md-nav__link">
      FBMN with Progenesis QI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-cytoscape/" title="FBMW with Cytoscape" class="md-nav__link">
      FBMW with Cytoscape
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ms2lda/" title="MS2LDA and MotifDB Substructure Discovery" class="md-nav__link">
      MS2LDA and MotifDB Substructure Discovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cytoscape/" title="Molecular Networking in Cytoscape" class="md-nav__link">
      Molecular Networking in Cytoscape
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../molnetenhancer/" title="MolNetEnhancer" class="md-nav__link">
      MolNetEnhancer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../nap/" title="Network Annotation Propagation (NAP)" class="md-nav__link">
      Network Annotation Propagation (NAP)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ReDU/" title="Reanalysis of Data User Interface (ReDU)" class="md-nav__link">
      Reanalysis of Data User Interface (ReDU)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Spectral Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        Spectral Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../browselibraries/" title="Browsing Reference Spectral Libraries" class="md-nav__link">
      Browsing Reference Spectral Libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spectrumcuration/" title="Reference Spectral Library Curation" class="md-nav__link">
      Reference Spectral Library Curation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../batchupload/" title="Reference Spectral Library Batch Addition" class="md-nav__link">
      Reference Spectral Library Batch Addition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../downloadlibraries/" title="Downloading Reference Spectral Libraries" class="md-nav__link">
      Downloading Reference Spectral Libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11-5" type="checkbox" id="nav-11-5">
    
    <label class="md-nav__link" for="nav-11-5">
      Open-source Method for Reference Library Generation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-11-5">
        Open-source Method for Reference Library Generation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../msmschooserdataacquisitionQE/" title="Data Acqusition - Thermo QExactive (v1.0)" class="md-nav__link">
      Data Acqusition - Thermo QExactive (v1.0)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../msmschooser/" title="Computational Selection of MSMS to Include in Library (MSMS-Chooser)" class="md-nav__link">
      Computational Selection of MSMS to Include in Library (MSMS-Chooser)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Public Datasets
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        Public Datasets
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../datasets/" title="Dataset Creation/Sharing" class="md-nav__link">
      Dataset Creation/Sharing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../continuousid/" title="Continuous Identification" class="md-nav__link">
      Continuous Identification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../moleculeexplorer/" title="Molecule Explorer" class="md-nav__link">
      Molecule Explorer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Community/Social Features
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        Community/Social Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user/" title="User Page" class="md-nav__link">
      User Page
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Tutorial Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        Tutorial Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/bacterianetworking/" title="Molecular Networking - Analog Discovery in Microbial Extracts" class="md-nav__link">
      Molecular Networking - Analog Discovery in Microbial Extracts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/americangutmzmine/" title="Feature Based Molecular Networking with MZmine2 - Microbiome Molecules in Fecal Samples in American Gut Project" class="md-nav__link">
      Feature Based Molecular Networking with MZmine2 - Microbiome Molecules in Fecal Samples in American Gut Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/americangut-ms-dial/" title="Feature Based Molecular Networking with MSDial - Microbiome Molecules in Fecal Samples in American Gut Project" class="md-nav__link">
      Feature Based Molecular Networking with MSDial - Microbiome Molecules in Fecal Samples in American Gut Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/coffee-tutorial-metaboscape/" title="Feature Based Molecular Networking with Metaboscape - Coffee Analysis" class="md-nav__link">
      Feature Based Molecular Networking with Metaboscape - Coffee Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/featurebasedgnps/" title="Feature Based Molecular Networking analysis at GNPS" class="md-nav__link">
      Feature Based Molecular Networking analysis at GNPS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-16" type="checkbox" id="nav-16">
    
    <label class="md-nav__link" for="nav-16">
      Presentation Materials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-16">
        Presentation Materials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../logos/" title="Logos" class="md-nav__link">
      Logos
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../changelog/" title="Change Log" class="md-nav__link">
      Change Log
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contact/" title="Contact" class="md-nav__link">
      Contact
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workshops/" title="GNPS Workshops" class="md-nav__link">
      GNPS Workshops
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citations" title="Citations" class="md-nav__link">
    Citations
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mass-spectrometry-data-processing-for-the-feature-based-molecular-networking-workflow" title="Mass Spectrometry Data Processing for the Feature Based Molecular Networking Workflow" class="md-nav__link">
    Mass Spectrometry Data Processing for the Feature Based Molecular Networking Workflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mass-spectrometry-data-feature-detection-with-mzmine2-recommended" title="Mass Spectrometry Data Feature Detection with MZmine2 [RECOMMENDED]" class="md-nav__link">
    Mass Spectrometry Data Feature Detection with MZmine2 [RECOMMENDED]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-feature-based-molecular-networking-workflow-in-gnps" title="The Feature Based Molecular Networking Workflow in GNPS" class="md-nav__link">
    The Feature Based Molecular Networking Workflow in GNPS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirement-for-the-fbmn-workflow" title="Requirement for the FBMN workflow" class="md-nav__link">
    Requirement for the FBMN workflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#superquick-feature-based-molecular-networking-workflow" title="SuperQuick Feature Based Molecular Networking Workflow" class="md-nav__link">
    SuperQuick Feature Based Molecular Networking Workflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-the-superquick-fbmn" title="Running the SuperQuick FBMN" class="md-nav__link">
    Running the SuperQuick FBMN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overview-of-the-standard-feature-based-molecular-networking-workflow" title="Overview of the "standard" Feature Based Molecular Networking Workflow" class="md-nav__link">
    Overview of the "standard" Feature Based Molecular Networking Workflow
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#select-the-software-used-for-the-lc-msms-data-processing" title="Select the software used for the LC-MS/MS data processing" class="md-nav__link">
    Select the software used for the LC-MS/MS data processing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#molecular-networks-options" title="Molecular Networks Options" class="md-nav__link">
    Molecular Networks Options
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-options" title="Basic Options" class="md-nav__link">
    Basic Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-molecular-network-options" title="Advanced Molecular Network Options" class="md-nav__link">
    Advanced Molecular Network Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-spectral-library-search-options" title="Advanced Spectral Library Search Options" class="md-nav__link">
    Advanced Spectral Library Search Options
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-filtering-options-for-spectra" title="Advanced Filtering Options (for Spectra)" class="md-nav__link">
    Advanced Filtering Options (for Spectra)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#advanced-quantification-options" title="Advanced quantification options" class="md-nav__link">
    Advanced quantification options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspecting-the-results-of-fbmn-on-gnps" title="Inspecting the Results of FBMN on GNPS" class="md-nav__link">
    Inspecting the Results of FBMN on GNPS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spectral-library-match-and-network-topology-analysis" title="Spectral Library Match and Network Topology Analysis" class="md-nav__link">
    Spectral Library Match and Network Topology Analysis
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#web-browser-molecular-network-visualization" title="Web-browser Molecular Network Visualization" class="md-nav__link">
    Web-browser Molecular Network Visualization
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dereplicator-insilico-peptidic-natural-products-tool" title="Dereplicator - Insilico Peptidic Natural Products Tool" class="md-nav__link">
    Dereplicator - Insilico Peptidic Natural Products Tool
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inspecting-the-results-of-fbmn-in-cytoscape" title="Inspecting the Results of FBMN in Cytoscape" class="md-nav__link">
    Inspecting the Results of FBMN in Cytoscape
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#demo-gnps-job-of-feature-based-molecular-networking" title="Demo GNPS job of Feature Based Molecular Networking" class="md-nav__link">
    Demo GNPS job of Feature Based Molecular Networking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-network-annotation-propagation" title="Running Network Annotation Propagation" class="md-nav__link">
    Running Network Annotation Propagation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#running-ms2lda-substructure-discovery" title="Running MS2LDA Substructure Discovery" class="md-nav__link">
    Running MS2LDA Substructure Discovery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#viewing-the-pcoa-plot-with-emperor-in-qiime2" title="Viewing the PCoA plot with EMPeror in Qiime2" class="md-nav__link">
    Viewing the PCoA plot with EMPeror in Qiime2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#video-tutorial-analyze-feature-based-molecular-networking-in-gnps" title="Video Tutorial - Analyze Feature Based Molecular Networking in GNPS" class="md-nav__link">
    Video Tutorial - Analyze Feature Based Molecular Networking in GNPS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tutorials" title="Tutorials" class="md-nav__link">
    Tutorials
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development" title="Development" class="md-nav__link">
    Development
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#source-code" title="Source code" class="md-nav__link">
    Source code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-files-requirements" title="Input files requirements" class="md-nav__link">
    Input files requirements
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" title="Citation" class="md-nav__link">
    Citation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-contributors" title="Page contributors" class="md-nav__link">
    Page contributors
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="feature-based-molecular-networking-fbmn">Feature-Based Molecular Networking (FBMN)</h1>
<h2 id="introduction">Introduction</h2>
<p><strong>Feature-Based Molecular Networking</strong> (FBMN) is a computational method that bridges popular mass spectrometry data processing tools for LC-MS/MS and molecular networking analysis on <a href="http://gnps.ucsd.edu">GNPS</a>. The supported tools are: <a href="../featurebasedmolecularnetworking-with-mzmine2/">MZmine2</a>, <a href="../featurebasedmolecularnetworking-with-openms/">OpenMS</a>, <a href="../featurebasedmolecularnetworking-with-ms-dial/">MS-DIAL</a>, <a href="../featurebasedmolecularnetworking-with-metaboscape/">MetaboScape</a>, <a href="../featurebasedmolecularnetworking-with-xcms3/">XCMS</a>, and <a href="../featurebasedmolecularnetworking-with-progenesisQI/">Progenesis QI</a>.</p>
<p>The main documentation for Feature-Based Molecular Networking is provided below.</p>
<p>The Feature-Based Molecular Networking (FBMN) workflow is available on GNPS via:</p>
<ul>
<li>
<p><a href="http://dorresteinappshub.ucsd.edu:5050/featurebasednetworking">The Superquick Start page for FBMN</a>. This page enables rapid submission of jobs with default parameters.</p>
</li>
<li>
<p><a href="https://gnps.ucsd.edu/ProteoSAFe/index.jsp?params=%7B%22workflow%22:%22FEATURE-BASED-MOLECULAR-NETWORKING%22,%22library_on_server%22:%22d.speclibs;%22%7D">The standard GNPS interface page for FBMN</a> (you need to be logged in GNPS first).</p>
</li>
<li>
<p>For programmatic access to FBMN, contact Mingxun Wang at <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#109;&#105;&#119;&#48;&#50;&#51;&#64;&#117;&#99;&#115;&#100;&#46;&#101;&#100;&#117;">&#109;&#105;&#119;&#48;&#50;&#51;&#64;&#117;&#99;&#115;&#100;&#46;&#101;&#100;&#117;</a>.</p>
</li>
</ul>
<h2 id="citations">Citations</h2>
<p>This work builds on the efforts of our many colleagues, please make sure to cite the papers for their processing tools and the GNPS paper:</p>
<p>Wang, M. et al. <a href="https://doi.org/10.1038/nbt.3597">Sharing and community curation of mass spectrometry data with Global Natural Products Social Molecular Networking</a>. Nat. Biotechnol. 34, 828–837 (2016).</p>
<p>The citations from the mass spectrometry processing tools you used [<a href="../featurebasedmolecularnetworking-with-mzmine2/">MZmine2</a>, <a href="../featurebasedmolecularnetworking-with-openms/">OpenMS</a>, <a href="../featurebasedmolecularnetworking-with-ms-dial/">MS-DIAL</a>, <a href="../featurebasedmolecularnetworking-with-metaboscape/">MetaboScape</a>, and <a href="../featurebasedmolecularnetworking-with-xcms3/">XCMS</a>].</p>
<h2 id="mass-spectrometry-data-processing-for-the-feature-based-molecular-networking-workflow">Mass Spectrometry Data Processing for the Feature Based Molecular Networking Workflow</h2>
<p>In brief, mass spectrometry processing programs have been adapted to export two files (<em>feature quantification table</em> and <em>MS/MS spectral summary</em>) files that can be used with the Feature Based Molecular Networking (FBMN) workflow on GNPS. These tools and their main features are presented in the table below along with a step-by-step documentation to use in FBMN on GNPS:</p>
<table>
<thead>
<tr>
<th>Processing tool</th>
<th>FBMN Documentation</th>
<th>Interface</th>
<th>Platform</th>
<th>Code availability</th>
<th>Target user</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/mzmine/mzmine2/">MZmine2</a></td>
<td><a href="../featurebasedmolecularnetworking-with-mzmine2/">See documentation</a></td>
<td>Graphical UI</td>
<td>Any</td>
<td><a href="https://github.com/mzmine/mzmine2/blob/master/LICENSE.txt">Open source</a></td>
<td>Mass spectrometrists</td>
</tr>
<tr>
<td><a href="http://prime.psc.riken.jp/Metabolomics_Software/MS-DIAL/">MS-DIAL</a></td>
<td><a href="../featurebasedmolecularnetworking-with-ms-dial/">See documentation</a></td>
<td>Graphical UI</td>
<td>Windows</td>
<td><a href="http://prime.psc.riken.jp/Metabolomics_Software/MS-DIAL/">Open source</a></td>
<td>Mass spectrometrists</td>
</tr>
<tr>
<td><a href="https://github.com/OpenMS/OpenMS/">OpenMS</a></td>
<td><a href="../featurebasedmolecularnetworking-with-openms/">See documentation</a></td>
<td>Commandline</td>
<td>Any</td>
<td><a href="https://github.com/OpenMS/OpenMS/blob/develop/License.txt">Open source</a></td>
<td>Bioinformaticians and developers</td>
</tr>
<tr>
<td><a href="https://github.com/sneumann/xcms">XCMS3</a></td>
<td><a href="../featurebasedmolecularnetworking-with-xcms3/">See documentation</a></td>
<td>Commandline</td>
<td>Any</td>
<td><a href="https://github.com/sneumann/xcms">Open source</a></td>
<td>Bioinformaticians and developers</td>
</tr>
<tr>
<td><a href="https://www.bruker.com/products/mass-spectrometry-and-separations/ms-software/metaboscape/overview.html">MetaboScape</a></td>
<td><a href="../featurebasedmolecularnetworking-with-metaboscape/">See documentation</a></td>
<td>Graphical UI</td>
<td>Windows</td>
<td>Proprietary code</td>
<td>Mass spectrometrists</td>
</tr>
</tbody>
</table>
<p><strong>IMPORTANT:</strong> The software used for the LC-MS/MS data processing has to be configured and utilized as recommended by its documentation.</p>
<h3 id="mass-spectrometry-data-feature-detection-with-mzmine2-recommended">Mass Spectrometry Data Feature Detection with MZmine2 [RECOMMENDED]</h3>
<p>Currently, we recommend using the MZmine2 workflow, as it has been thoroughly tested. <a href="../featurebasedmolecularnetworking-with-mzmine2/">See the documentation here</a> and the following <a href="../tutorials/americangutmzmine/">MZmine2 video tutorial:</a></p>
<h2 id="the-feature-based-molecular-networking-workflow-in-gnps">The Feature Based Molecular Networking Workflow in GNPS</h2>
<p>There is a dedicated Feature-Based Molecular Networking workflow on GNPS that <a href="https://gnps.ucsd.edu/ProteoSAFe/index.jsp?params=%7B%22workflow%22:%22FEATURE-BASED-MOLECULAR-NETWORKING%22,%22library_on_server%22:%22d.speclibs;%22%7D">can be accessed here</a> (you need to be logged in GNPS first).</p>
<h3 id="requirement-for-the-fbmn-workflow">Requirement for the FBMN workflow</h3>
<p>You will need three input files (test files for each software are accessible <a href="https://github.com/CCMS-UCSD/GNPSDocumentation/tree/master/docs/tutorials/AG_tutorial_files">here</a>):</p>
<ol>
<li><em>Feature Table</em> with intensities of ion features (TXT or CSV format).</li>
<li><em>MS/MS spectral file</em> with a list of MS/MS spectra for the ion features (.MGF File).</li>
<li>[Optional] <em>Metadata table</em> - described <a href="../networking/#metadata">here</a></li>
</ol>
<h2 id="superquick-feature-based-molecular-networking-workflow">SuperQuick Feature Based Molecular Networking Workflow</h2>
<p>A simplified interace for Super Quick web interace for FBMN <a href="http://dorresteinappshub.ucsd.edu:5050/featurebasednetworking">is available here</a>.</p>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/superquick_fbmn.png" /></p>
<h3 id="running-the-superquick-fbmn">Running the SuperQuick FBMN</h3>
<ol>
<li>Indicate your email and your GNPS Credentials.</li>
<li>Select the 'Feature Generation tool'.</li>
<li>Select the parameters preset.</li>
<li>Drag and drop your "feature quantification table" and "MS/MS spectral file" (.MGF). See the respective documentation for FBMN each tool.</li>
<li>Optional. Drag and drop a <a href="../networking/#metadata">metadata table</a>.</li>
<li>Click on "Analyze Uploaded Files with GNPS Molecular Networking".</li>
</ol>
<p>While this SuperQuick FBMN interface is convenient for quick analysis, we recommend using the standard FBMN workflow presented below that made possible to modify all the workflow parameters.</p>
<h3 id="overview-of-the-standard-feature-based-molecular-networking-workflow">Overview of the "standard" Feature Based Molecular Networking Workflow</h3>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/overview.png" /></p>
<h4 id="select-the-software-used-for-the-lc-msms-data-processing">Select the software used for the LC-MS/MS data processing</h4>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/select.png" /></p>
<h3 id="molecular-networks-options">Molecular Networks Options</h3>
<h4 id="basic-options">Basic Options</h4>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/Basic_Options_2.png" /></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precursor Ion Mass Tolerance (PIMT)</td>
<td>Parameter used for MS-Cluster and spectral library search expressed in Daltons. This value influences the aforementioned clustering of nearly-identical MS/MS spectra via MS-Cluster. Note that the value of this parameters should be consistent with the capabilities of the mass spectrometer and the specific instrument method used to generated the MS/MS data. Recommended Values value is ± 0.02 Da for high-resolution instruments (q-TOF, q-Orbitrap) and ± 2.0 Da for low-resolution instruments (ion traps, QqQ).</td>
<td>0.02</td>
</tr>
<tr>
<td>Fragment Ion Mass Tolerance (FIMT)</td>
<td>Parameters used for MS-Cluster, molecular networking, and MS/MS spectral library searches. For every group of MS/MS spectra being considered for clustering (consensus spectrum creation), this value specifies how much fragment ions can be shifted from their expected m/z values. Recommended Values value is ± 0.02 Da for high-resolution instruments (q-TOF, q-Orbitrap) and ± 0.5 Da for low-resolution instruments (ion traps, QqQ).</td>
<td>0.02</td>
</tr>
</tbody>
</table>
<h4 id="advanced-molecular-network-options">Advanced Molecular Network Options</h4>
<p><img alt="set title" src="../img/featurebasedmolecularnetworking/Advanced_Network_Options.png" /></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Min Pairs Cos</td>
<td>Minimum cosine score for a pair of consensus MS/MS spectra in order for an edge to be formed in the molecular network</td>
<td>0.7</td>
<td>Lower value will increase the size of the clusters by inducing the clustering of less related MS/MS spectra, higher value will do the opposite.</td>
</tr>
<tr>
<td>Minimum Matched Fragment Ion (Min Matched Peaks)</td>
<td>Parameters used for molecular networking. The minimum number of common fragment ions that are shared by two separate consensus MS/MS spectra in order to be connected by an edge in the molecular network</td>
<td>6</td>
<td>A low value will permit linkages between spectra of molecules with few similar fragment ions, but it will result in many more less-related spectra being connected to the network. An higher value will do the opposite. Default value is 6, but note that this parameters should be adjusted depending on the experimental conditions for mass spectra acquisition (such as mode of ionisation, fragmentation conditions, the mobile phase, etc.), and the collision-induced fragmentation settings of the molecules of interest within the samples. High molecular weight (MW) compounds and compounds with more hetero-atoms generally tend to produce more fragment ions. However, this rule cannot is not absolute. For example, some lipids with high MW generate only a few fragment ions.</td>
</tr>
<tr>
<td>Maximum shift between precursors</td>
<td>The maximum m/z difference between two precursors permitting their spectra to be considered as direct neighbors in a molecular network</td>
<td>500</td>
<td>The maximum mass difference between two connected nodes in a molecular network.</td>
</tr>
<tr>
<td>Network TopK</td>
<td>Maximum number of neighbor nodes for one single node</td>
<td>10</td>
<td>The edge between two nodes are kept only if both nodes are within each other's ‘TopK’ most similar nodes.  For example, if this value is set at 20, then a single node may be connected to up to 20 other nodes.  Keeping this value low makes very large networks (many nodes) much easier to visualize.</td>
</tr>
<tr>
<td>Maximum Connected Component Size</td>
<td>Maximum number of nodes allowed in a single connected network</td>
<td>100</td>
<td>Nodes within a single connected molecular network will be separated by increasing cosine threshold for that specific connected molecular network. Default value is 100. Use 0 to allow an unlimited number of nodes in a single network. Note that with large datasets, or when a great number of related molecules are in the dataset, this value should be higher (or turn to 0) to retain as much information as possible. Downstream, these larger networks can be visualized using Cytoscape layout algorithms that can increase the intra-network clustering, allowing to visualize spectral groups in the network despite the number of nodes in the network.</td>
</tr>
</tbody>
</table>
<h4 id="advanced-spectral-library-search-options">Advanced Spectral Library Search Options</h4>
<p><img alt="set title" src="../img/featurebasedmolecularnetworking/Advanced_Library_Search_Options.png" /></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Library Search Min Matched Peaks</td>
<td>Minimum number of common fragment ions that MS/MS spectra should contain in order to be considered for spectral library annotation. Default value is 6, but note that this parameters should be tuned depending on the molecules of interest, and the experimental conditions (such as the ionisation mode and the fragmentation conditions). For example, the collision-induced fragmentation of some lipids produce only a few fragment ions. A lower value will allow clustering of MS/MS spectra containing less  fragment ions, however it will also induce clustering of MS/MS spectra from different molecular types to be connected in one network. A higher value will do the opposite</td>
<td>6</td>
</tr>
<tr>
<td>Score Threshold</td>
<td>Minimum cosine score that MS/MS spectra should get in spectral matching with MS/MS spectral libraries in order to be considered an annotation.</td>
<td>0.7</td>
</tr>
<tr>
<td>Search Analogs</td>
<td>Whether to search data for analogs to library spectra</td>
<td>Don't Search</td>
</tr>
<tr>
<td>Maximum Analog Search Mass Difference</td>
<td>Maximum mass shift between the library and putative analogs found</td>
<td>100 (Da)</td>
</tr>
<tr>
<td>Top results to report per query</td>
<td>Number of matches to report for each feature</td>
<td>1</td>
</tr>
</tbody>
</table>
<h4 id="advanced-filtering-options-for-spectra">Advanced Filtering Options (for Spectra)</h4>
<p><img alt="set title" src="../img/featurebasedmolecularnetworking/Advanced_filtering_options.png" /></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum Peak Intensity</td>
<td>All fragment ions in the MS/MS spectra below this raw intensity value will be deleted. By default, the filtering is disabled.</td>
<td>0</td>
</tr>
<tr>
<td>Filter Precursor  Window</td>
<td>All peaks in a +/- 17 Da around precursor ion mass are deleted. Enabled by default. This removes the residual precursor ion, which is frequently observed in MS/MS spectra acquired on qTOFs.</td>
<td>Filter</td>
</tr>
<tr>
<td>Filter library</td>
<td>Apply peak filters to library</td>
<td>Filter</td>
</tr>
<tr>
<td>Filter peaks in 50Da Window</td>
<td>Filter out peaks that are not in the top 6 most intense peaks in a +/- 50Da window</td>
<td>Filter</td>
</tr>
</tbody>
</table>
<h4 id="advanced-quantification-options">Advanced quantification options</h4>
<p>There are additional normalization options specifically for the FBMN workflow:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Normalization Per File</td>
<td>Total Ion Current (TIC) normalization can be applied to the ion intensities (LC-MS1 peak area) per sample (NOT RECOMMENDED AS DEFAULT)</td>
<td>No Norm</td>
</tr>
<tr>
<td>Aggregation Method for Peak Abundances Per Group</td>
<td>The ion feature intensity (LC-MS1 peak area) can be aggregated by GROUPS from the metadatable with either a <em>Sum</em> or <em>Average</em> (RECOMMENDED, because it is more robust to the difference in the number of samples per GROUPS).</td>
<td>Average</td>
</tr>
</tbody>
</table>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/Advanced_Quantification_Options_2.png" /></p>
<h3 id="inspecting-the-results-of-fbmn-on-gnps">Inspecting the Results of FBMN on GNPS</h3>
<p>After the completion of the FBMN job (this will take from 10 to 10 hours depending on your number of samples and instrument), you will receive an email notification with a link to the results page (see example below).</p>
<p><img alt="Results" src="../img/featurebasedmolecularnetworking/results_FBMN.png" /></p>
<h4 id="spectral-library-match-and-network-topology-analysis">Spectral Library Match and Network Topology Analysis</h4>
<p>For more information about the inspection of the molecular networking results, please refer to <a href="../networkingviews/">the main documentation page</a>.</p>
<h5 id="web-browser-molecular-network-visualization">Web-browser Molecular Network Visualization</h5>
<p>Here is an example of web-browser view of molecular networks. Click on the link to <a href="https://gnps.ucsd.edu/ProteoSAFe/result.jsp?view=network_displayer&amp;componentindex=56&amp;task=51ee77f5c6d74f878e873f0b1dfe0b5f#%7B%7D">view the interactive molecular networks</a>.</p>
<p><img alt="Results" src="../img/featurebasedmolecularnetworking/web_view_FBMN.png" /></p>
<h4 id="dereplicator-insilico-peptidic-natural-products-tool">Dereplicator - Insilico Peptidic Natural Products Tool</h4>
<p>The Insilico Peptidic Natural Products Dereplicator is a bioinformatic tool that allows the annotation of known peptidic natural products in MS/MS data using in silico fragmentation tree. This workflow is also included into the Feature Based Molecular Network workflow, then you have the option to use it by clicking into Advanced External tools. After your job has completed you can explore your results and even <em>clone</em> the Dereplicator job and modify the parameters.</p>
<p>Check out the <a href="../dereplicator/"><strong>full documentation</strong> for further description settings and <strong>citations</strong></a>.</p>
<p><img alt="emperor" src="../img/featurebasedmolecularnetworking/dereplicator.png" /></p>
<p>If you use that tool, please cite the DEREPLICATOR papers. <a href="../dereplicator/">See citations in the main DEREPLICATOR documentation</a>.</p>
<h3 id="inspecting-the-results-of-fbmn-in-cytoscape">Inspecting the Results of FBMN in Cytoscape</h3>
<p>Cytoscape is an open source software platform used to visualize, analyze and annotate molecular networks from GNPS. <a href="../featurebasedmolecularnetworking-cytoscape/">See the documentation here</a></p>
<p><img alt="img" src="../img/cytoscape/import_2.png" /></p>
<h3 id="demo-gnps-job-of-feature-based-molecular-networking">Demo GNPS job of Feature Based Molecular Networking</h3>
<p><a href="https://gnps.ucsd.edu/ProteoSAFe/status.jsp?task=52a390c8eb654b7fa8d61a1c7a4aaab5">Here is an example FBMN</a> job with files resulting from MZmine2 processing of a subset of the [American Gut Project] (http://humanfoodproject.com/americangut/).</p>
<h3 id="running-network-annotation-propagation">Running Network Annotation Propagation</h3>
<p>It is possible to use the results of FBMN to run Network Annotation Propagation (NAP). NAP uses spectral networks to propagate information from spectral library matching, in order to improve in silico fragmentation candidate structure ranking. See the following <a href="../nap/">documentation for NAP</a></p>
<p><img alt="cand_chemviz" src="../img/nap/display_consensus_candidates.gif" /></p>
<p>If you use that tool, please cite the NAP paper. <a href="../nap/">See citations in the main NAP documentation</a>.</p>
<h3 id="running-ms2lda-substructure-discovery">Running MS2LDA Substructure Discovery</h3>
<p><strong>The results of FBMN can be directly analyzed with MS2LDA</strong>. For this, on the result page click on "Advanced View" &gt; "Analyze with MS2LDA". See the <a href="../ms2lda/">MS2LDA documentation</a>.</p>
<p><img alt="img" src="../img/ms2lda/banner.png" /></p>
<p>MS2LDA is a tool that decomposes molecular fragmentation data derived from large metabolomics experiments into annotated Mass2Motifs or discovers Mass2Motifs from experimental data. Mass2Motifs are fragmentation patterns of often co-occurring mass fragment peaks and/or neutral losses that often represent molecular substructures. Check out the MS2LDA website here where you can find more information, browse through data sets, and sign up for an account to run the Mass2Motif discovery on your own data. At GNPS, we are working with the MS2LDA team to integrate both workflows which allows users to map Mass2Motif occurrences in their Molecular Families.</p>
<p>If you use that tool, please cite MS2LDA papers. <a href="../ms2lda/">See citations in the main MS2LDA documentation</a>.</p>
<h3 id="viewing-the-pcoa-plot-with-emperor-in-qiime2">Viewing the PCoA plot with EMPeror in Qiime2</h3>
<p>EMPeror, is an open source and web browser enabled tool that allows researchers to perform rapid exploratory investigations of 3D visualizations of data. To view the PCoA plot (using Bray-Curtis dissimilarity metrics) with the EMPeror Qiime2 plugin, click on <strong>"View qiime2 Emperor Plots"</strong>.</p>
<p><img alt="emperor" src="../img/featurebasedmolecularnetworking/emperor.png" /></p>
<p><strong>Citation for EMPeror</strong>: Yoshiki Vázquez-Baeza, Meg Pirrung, Antonio Gonzalez, and Rob Knight. Gigascience, 2(1):16, 2013. <a href="https://academic.oup.com/gigascience/article/2/1/2047-217X-2-16/2656132">doi:10.1186/2047-217X-2-16</a>.</p>
<p><strong>Citation for Qiime2</strong>: Bolyen, E. et al. QIIME 2: Reproducible, interactive, scalable, and extensible microbiome data science. (PeerJ Preprints, 2018). <a href="https://peerj.com/preprints/27295/">doi:10.7287/peerj.preprints.27295v2</a></p>
<h3 id="video-tutorial-analyze-feature-based-molecular-networking-in-gnps">Video Tutorial - Analyze Feature Based Molecular Networking in GNPS</h3>
<p>This video presents
<iframe width="800" height="500" src="https://www.youtube.com/embed/NTkQ0fS1aug"> </iframe></p>
<h2 id="tutorials">Tutorials</h2>
<p>See our <a href="../tutorials/americangutmzmine/">tutorial on using MZmine2</a> for FBMN analysis of a cohort from the <a href="http://humanfoodproject.com/americangut/">American Gut Project</a>, and our <a href="../tutorials/featurebasedgnps/">tutorial on running a FBMN analysis on GNPS</a>.</p>
<h2 id="development">Development</h2>
<h4 id="source-code">Source code</h4>
<ul>
<li>The FBMN source code can be found on the <a href="https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking">GNPS_Workflows GitHub repository</a>.</li>
</ul>
<h4 id="input-files-requirements">Input files requirements</h4>
<ul>
<li>
<p>The <em>Feature Table</em> (.TXT or CSV file) needs to have unique <em>Feature IDentifier</em> (integer) for each LC-MS1 feature that must match the "SCANS=" header of the corresponding spectrum in the <em>MS/MS spectral file</em> (.MGF file). Note that the number of LC-MS1 features in the <em>Feature Table</em> can be larger than the number of LC-MS1 features with a spectrum in the <em>MS/MS spectral file</em>. And the <em>Feature IDentifier</em> does not have to be sequencial. As a result, the <em>Feature Table</em> can contain LC-MS1 feature that doesn't have an associated MS/MS scan in the <em>MS/MS spectral file</em>. The PCoA generated with qiime2 EMPeror uses the entire content of <em>Feature Table</em> provided.</p>
</li>
<li>
<p>The format of the <em>Feature Table</em> should be consistent with the representative <em>Feature Table</em>  provided on <a href="https://github.com/CCMS-UCSD/GNPSDocumentation/tree/master/docs/tutorials/AG_tutorial_files">this page</a>. Note that internally, the <em>Feature Table</em> file inputted by the user are converted to a standard MZmine2 format prior to FBMN analysis in GNPS. The python scripts used for the conversion <em>Feature Table</em> from various software <a href="https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking/tools/feature-based-molecular-networking/scripts">are available here</a>. If you want to add support for another LC-MS processing tool, contact us.</p>
</li>
</ul>
<h2 id="citation">Citation</h2>
<p>This work builds on the efforts of our many colleagues, please make sure to cite the papers for their processing tools and the GNPS paper:</p>
<p>Wang, M. et al. <a href="https://doi.org/10.1038/nbt.3597">Sharing and community curation of mass spectrometry data with Global Natural Products Social Molecular Networking</a>. Nat. Biotechnol. 34, 828–837 (2016).</p>
<h2 id="page-contributors">Page contributors</h2>
<p>Louis Felix Nothias (UCSD), Ming Wang (UCSD, Laura-Isobel McCall (University of Oklahoma), Andrés Mauricio Caraballo Rodríguez (UCSD), Ivan Protsyuk (EMBL, Heidelberg, Germany).</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../dereplicator/" title="DEREPLICATOR" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                DEREPLICATOR
              </span>
            </div>
          </a>
        
        
          <a href="../featurebasedmolecularnetworking-with-mzmine2/" title="FBMN with MZmine2" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                FBMN with MZmine2
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.a59e2a89.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-8412213-5","ccms-ucsd.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>