
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://ccms-ucsd.github.io/GNPSDocumentation/featurebasedmolecularnetworking/" rel="canonical"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.2.2, mkdocs-material-7.2.8" name="generator"/>
<title>FBMN Workflow - GNPS Documentation</title>
<link href="../assets/stylesheets/main.92558b1b.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.3f5d1f46.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-8412213-5","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
</head>
<body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr">
<script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#feature-based-molecular-networking-fbmn">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="GNPS Documentation" class="md-header__button md-logo" data-md-component="logo" href=".." title="GNPS Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            GNPS Documentation
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              FBMN Workflow
            
          </span>
</div>
</div>
</div>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/CCMS-UCSD/GNPSDocumentation/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    CCMS-UCSD/GNPSDocumentation
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="GNPS Documentation" class="md-nav__button md-logo" data-md-component="logo" href=".." title="GNPS Documentation">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"></path></svg>
</a>
    GNPS Documentation
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/CCMS-UCSD/GNPSDocumentation/" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg>
</div>
<div class="md-source__repository">
    CCMS-UCSD/GNPSDocumentation
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
        GNPS Introduction
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../isgnpsright/">
        Is my data compatible with GNPS?
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../faq/">
        Frequently Asked Questions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../superquickstart/">
        Superquick Start Guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../quickstart/">
        Quick Start Guide
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gnpsanalysisoverview/">
        GNPS Analysis Tools Overview
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../lexicon/">
        GNPS Lexicon
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
        Mass Spec/Computational Background
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Mass Spec/Computational Background" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          Mass Spec/Computational Background
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../massspecbackground/networkingtheory/">
        Molecular Networking
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9">
        Data Preparation/Upload
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Data Preparation/Upload" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
          Data Preparation/Upload
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../fileconversion/">
        Mass Spectrometry File Conversion
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../fileconversion_waters/">
        File Conversion (Waters)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../fileupload/">
        GNPS File Upload
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../metadata/">
        Metadata
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" id="__nav_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_10">
        Recommended Data Analysis
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Recommended Data Analysis" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
          Recommended Data Analysis
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../networking/">
        Molecular Networking
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10_2" id="__nav_10_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_10_2">
        GC-MS Molecular Networking
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="GC-MS Molecular Networking" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_10_2">
<span class="md-nav__icon md-icon"></span>
          GC-MS Molecular Networking
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../gcanalysis/">
        GC-MS on GNPS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gc-ms-deconvolution/">
        GC-MS Deconvolution
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gc-ms-library-molecular-network/">
        GC-MS Library Search and Molecular Networking
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../networkingviews/">
        Molecular Networking Views
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../librarysearch/">
        Spectral Library Search
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../masst/">
        MASST Search (Mass Search Tool)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../resultviews/">
        Result Views Navigation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" id="__nav_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_11">
        Mass Spec Data Visualization
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Mass Spec Data Visualization" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
          Mass Spec Data Visualization
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../lcms-dashboard/">
        GNPS Dashboard
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gnpsdatasetexplorer/">
        GNPS Dataset Explorer
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../usi/">
        Metabolomics Spectrum Resolver
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../dashboard_use_cases/">
        GNPS Dashboard Use Cases
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" id="__nav_12" type="checkbox"/>
<label class="md-nav__link" for="__nav_12">
        Advanced Data Analysis
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Advanced Data Analysis" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_12">
<span class="md-nav__icon md-icon"></span>
          Advanced Data Analysis
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../networkingfiles/">
        Molecular Networking Files
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_2" id="__nav_12_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_12_2">
        Feature Based Molecular Networking
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Feature Based Molecular Networking" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_12_2">
<span class="md-nav__icon md-icon"></span>
          Feature Based Molecular Networking
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          FBMN Workflow
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        FBMN Workflow
      </a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#introduction">
    Introduction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#citations">
    Citations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mass-spectrometry-data-processing-for-the-fbmn">
    Mass Spectrometry Data Processing for the FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the-fbmn-workflow-in-gnps">
    The FBMN Workflow in GNPS
  </a>
<nav aria-label="The FBMN Workflow in GNPS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#requirement-for-the-fbmn-workflow">
    Requirement for the FBMN workflow
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#superquick-feature-based-molecular-networking-workflow">
    SuperQuick Feature Based Molecular Networking Workflow
  </a>
<nav aria-label="SuperQuick Feature Based Molecular Networking Workflow" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-the-superquick-fbmn">
    Running the SuperQuick FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#overview-of-the-standard-interface">
    Overview of the standard interface
  </a>
<nav aria-label="Overview of the standard interface" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#select-the-file-source">
    Select the file source
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#molecular-networks-options">
    Molecular Networks Options
  </a>
<nav aria-label="Molecular Networks Options" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-options">
    Basic Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-molecular-network-options">
    Advanced Molecular Network Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-spectral-library-search-options">
    Advanced Spectral Library Search Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-filtering-options-for-spectra">
    Advanced Filtering Options (for Spectra)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-quantification-options">
    Advanced Quantification Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-univariate-statistics-options">
    Advanced Univariate Statistics Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-extras">
    Advanced Extras
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mzml-files-used-for-feature-finding">
    mzML Files Used for Feature Finding
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inspecting-the-results-of-fbmn-on-gnps">
    Inspecting the Results of FBMN on GNPS
  </a>
<nav aria-label="Inspecting the Results of FBMN on GNPS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#spectral-library-match-and-network-topology-analysis">
    Spectral Library Match and Network Topology Analysis
  </a>
<nav aria-label="Spectral Library Match and Network Topology Analysis" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#web-browser-molecular-network-visualization">
    Web-browser Molecular Network Visualization
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inspecting-the-results-of-fbmn-in-cytoscape">
    Inspecting the Results of FBMN in Cytoscape
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#demo-gnps-job-of-fbmn">
    Demo GNPS job of FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-the-dereplicator">
    Running the DEREPLICATOR
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-network-annotation-propagation">
    Running Network Annotation Propagation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-ms2lda-substructure-discovery">
    Running MS2LDA Substructure Discovery
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-molnetenhancer-with-fbmn">
    Running MolNetEnhancer with FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#viewing-the-pcoa-plot-with-emperor-in-qiime2">
    Viewing the PCoA plot with EMPeror in Qiime2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#video-tutorial-analyze-fbmn-in-gnps">
    Video Tutorial - Analyze FBMN in GNPS
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tutorials">
    Tutorials
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#development">
    Development
  </a>
<nav aria-label="Development" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#source-code">
    Source code
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#input-files-requirements">
    Input files requirements
  </a>
<nav aria-label="Input files requirements" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#msms-spectral-summary-and-feature-quantification-table">
    MS/MS spectral summary and feature quantification table
  </a>
<nav aria-label="MS/MS spectral summary and feature quantification table" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#msms-spectral-summary">
    MS/MS spectral summary
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#feature-quantification-table">
    Feature quantification table
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#support-for-mz-tab-m-format">
    Support for mz-Tab-M format
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#programmatic-access-to-fbmn">
    Programmatic Access to FBMN
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#join-the-gnps-community">
    Join the GNPS Community !
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#page-contributions">
    Page Contributions
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-with-mzmine2/">
        FBMN with MZmine
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-with-ms-dial/">
        FBMN with MS-DIAL
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-with-xcms3/">
        FBMN with XCMS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-with-openms/">
        FBMN with OpenMS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-with-metaboscape/">
        FBMN with MetaboScape
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-with-progenesisQI/">
        FBMN with Progenesis QI
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-with-mztab-m/">
        FBMN with mzTab-M
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../featurebasedmolecularnetworking-cytoscape/">
        FBMN export to Cytoscape
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12_3" id="__nav_12_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_12_3">
        FBMN - Ion Identity Networking
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="FBMN - Ion Identity Networking" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_12_3">
<span class="md-nav__icon md-icon"></span>
          FBMN - Ion Identity Networking
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../fbmn-iin/">
        IIN Workflow
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../fbmn-iin-mzmine/">
        IIN with MZmine2
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../fbmn-iin-xcms/">
        IIN with XCMS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../fbmn-iin-msdial/">
        IIN with MS-DIAL
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ms2lda/">
        MS2LDA and MotifDB Substructure Discovery
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../cytoscape/">
        Molecular Networking in Cytoscape
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../dereplicator/">
        DEREPLICATOR
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../dereplicator%2B/">
        DEREPLICATOR+
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../molDiscovery/">
        MolDiscovery
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../nap/">
        Network Annotation Propagation (NAP)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ms2lda/">
        MS2LDA and MotifDB Substructure Discovery
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../molnetenhancer/">
        MolNetEnhancer
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../metaminer/">
        MetaMiner
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../sirius/">
        Sirius
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ReDU/">
        Reanalysis of Data User Interface (ReDU)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../qemistree/">
        Qemistree
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mmvec/">
        MMVEC
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../mergepolarity/">
        Merge Network Polarity
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../chemdir/">
        Chemical Directionality
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" id="__nav_13" type="checkbox"/>
<label class="md-nav__link" for="__nav_13">
        Spectral Libraries
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Spectral Libraries" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_13">
<span class="md-nav__icon md-icon"></span>
          Spectral Libraries
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../browselibraries/">
        Browsing Reference Spectral Libraries
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../spectrumcuration/">
        Add/Curate Reference Spectrum in the Library
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../batchupload/">
        Reference Spectral Library Batch Addition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../batchuploadmzvault/">
        Reference Spectral Library mzVault Addition
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../downloadlibraries/">
        Downloading Reference Spectral Libraries
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13_6" id="__nav_13_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_13_6">
        Open-source Method for Reference Library Generation
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Open-source Method for Reference Library Generation" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_13_6">
<span class="md-nav__icon md-icon"></span>
          Open-source Method for Reference Library Generation
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../msmschooser/">
        MSMS-Chooser Workflow
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../msmschooserdataacquisitioncomputational/">
        Computational Data Acquisition Prep
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../msmschooserdataacquisitionQE/">
        Data Acqusition - Thermo QExactive (v1.0)
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tag_info/">
        GNPS Tag Contribution and Analyses
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" id="__nav_14" type="checkbox"/>
<label class="md-nav__link" for="__nav_14">
        Create a Public Datasets
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Create a Public Datasets" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_14">
<span class="md-nav__icon md-icon"></span>
          Create a Public Datasets
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../datasets/">
        Dataset Creation/Sharing
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../continuousid/">
        Continuous Identification
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../moleculeexplorer/">
        Molecule Explorer
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" id="__nav_15" type="checkbox"/>
<label class="md-nav__link" for="__nav_15">
        Community/Social Features
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Community/Social Features" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_15">
<span class="md-nav__icon md-icon"></span>
          Community/Social Features
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../user/">
        User Page
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../troubleshooting/">
        Troubleshooting
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" id="__nav_17" type="checkbox"/>
<label class="md-nav__link" for="__nav_17">
        Tutorial Guides
        <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Tutorial Guides" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_17">
<span class="md-nav__icon md-icon"></span>
          Tutorial Guides
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../tutorials/bacterianetworking/">
        Molecular Networking - Analog Discovery in Microbial Extracts
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tutorials/americangutmzmine/">
        Feature-Based Molecular Networking (FBMN) with MZmine2 - Microbiome Molecules in Fecal Samples in American Gut Project
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tutorials/americangut-ms-dial/">
        FBMN with MS-DIAL - Microbiome Molecules in Fecal Samples in American Gut Project
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tutorials/coffee-tutorial-metaboscape/">
        FBMN with MetaboScape - Coffee Analysis
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tutorials/featurebasedgnps/">
        FBMN analysis at GNPS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tutorials/rdd/">
        Reference Data Driven Analysis
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../changelog/">
        Change Log
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../gnps_community/">
        Join the GNPS community
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../workshops/">
        GNPS Workshops/Training
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../logos/">
        GNPS Logos
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../contact/">
        Contact/Office Hours
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../toolindex/">
        GNPS Tool Index
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../api/">
        API
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../developers/">
        For Developers
      </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#introduction">
    Introduction
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#citations">
    Citations
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mass-spectrometry-data-processing-for-the-fbmn">
    Mass Spectrometry Data Processing for the FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#the-fbmn-workflow-in-gnps">
    The FBMN Workflow in GNPS
  </a>
<nav aria-label="The FBMN Workflow in GNPS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#requirement-for-the-fbmn-workflow">
    Requirement for the FBMN workflow
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#superquick-feature-based-molecular-networking-workflow">
    SuperQuick Feature Based Molecular Networking Workflow
  </a>
<nav aria-label="SuperQuick Feature Based Molecular Networking Workflow" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#running-the-superquick-fbmn">
    Running the SuperQuick FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#overview-of-the-standard-interface">
    Overview of the standard interface
  </a>
<nav aria-label="Overview of the standard interface" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#select-the-file-source">
    Select the file source
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#molecular-networks-options">
    Molecular Networks Options
  </a>
<nav aria-label="Molecular Networks Options" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-options">
    Basic Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-molecular-network-options">
    Advanced Molecular Network Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-spectral-library-search-options">
    Advanced Spectral Library Search Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-filtering-options-for-spectra">
    Advanced Filtering Options (for Spectra)
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-quantification-options">
    Advanced Quantification Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-univariate-statistics-options">
    Advanced Univariate Statistics Options
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#advanced-extras">
    Advanced Extras
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mzml-files-used-for-feature-finding">
    mzML Files Used for Feature Finding
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inspecting-the-results-of-fbmn-on-gnps">
    Inspecting the Results of FBMN on GNPS
  </a>
<nav aria-label="Inspecting the Results of FBMN on GNPS" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#spectral-library-match-and-network-topology-analysis">
    Spectral Library Match and Network Topology Analysis
  </a>
<nav aria-label="Spectral Library Match and Network Topology Analysis" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#web-browser-molecular-network-visualization">
    Web-browser Molecular Network Visualization
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inspecting-the-results-of-fbmn-in-cytoscape">
    Inspecting the Results of FBMN in Cytoscape
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#demo-gnps-job-of-fbmn">
    Demo GNPS job of FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-the-dereplicator">
    Running the DEREPLICATOR
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-network-annotation-propagation">
    Running Network Annotation Propagation
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-ms2lda-substructure-discovery">
    Running MS2LDA Substructure Discovery
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#running-molnetenhancer-with-fbmn">
    Running MolNetEnhancer with FBMN
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#viewing-the-pcoa-plot-with-emperor-in-qiime2">
    Viewing the PCoA plot with EMPeror in Qiime2
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#video-tutorial-analyze-fbmn-in-gnps">
    Video Tutorial - Analyze FBMN in GNPS
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#tutorials">
    Tutorials
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#development">
    Development
  </a>
<nav aria-label="Development" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#source-code">
    Source code
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#input-files-requirements">
    Input files requirements
  </a>
<nav aria-label="Input files requirements" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#msms-spectral-summary-and-feature-quantification-table">
    MS/MS spectral summary and feature quantification table
  </a>
<nav aria-label="MS/MS spectral summary and feature quantification table" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#msms-spectral-summary">
    MS/MS spectral summary
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#feature-quantification-table">
    Feature quantification table
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#support-for-mz-tab-m-format">
    Support for mz-Tab-M format
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#programmatic-access-to-fbmn">
    Programmatic Access to FBMN
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#join-the-gnps-community">
    Join the GNPS Community !
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#page-contributions">
    Page Contributions
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/CCMS-UCSD/GNPSDocumentation/edit/master/docs/featurebasedmolecularnetworking.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg>
</a>
<h1 id="feature-based-molecular-networking-fbmn">Feature-Based Molecular Networking (FBMN)<a class="headerlink" href="#feature-based-molecular-networking-fbmn" title="Permanent link">¶</a></h1>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">¶</a></h2>
<p>[<strong>NEW !!!</strong>] The FBMN allows to generate molecular networks from MSE and Ion Mobility Spectrometry (IMS) data with MS-DIAL, or Progenesis QI, MetaboScape.</p>
<p><strong>Feature-Based Molecular Networking</strong> (FBMN) is a computational method that bridges popular mass spectrometry data processing tools for LC-MS/MS and molecular networking analysis on <a href="http://gnps.ucsd.edu">GNPS</a>. The supported tools are: <a href="../featurebasedmolecularnetworking-with-mzmine2/">MZmine</a>, <a href="../featurebasedmolecularnetworking-with-openms/">OpenMS</a>, <a href="../featurebasedmolecularnetworking-with-ms-dial/">MS-DIAL</a>, <a href="../featurebasedmolecularnetworking-with-metaboscape/">MetaboScape</a>, <a href="../featurebasedmolecularnetworking-with-xcms3/">XCMS</a>, <a href="../featurebasedmolecularnetworking-with-progenesisQI/">Progenesis QI</a>, and the <a href="../featurebasedmolecularnetworking-with-mztab-m/">mzTab-M format</a>.</p>
<p>The main documentation for <strong>Feature-Based Molecular Networking</strong> is provided below. See <a href="https://www.nature.com/articles/s41592-020-0933-6">our article</a>
and the <a href="https://www.biorxiv.org/content/10.1101/812404v1">preprint</a>.</p>
<p>The Feature-Based Molecular Networking (FBMN) workflow is available on GNPS via:</p>
<ul>
<li>
<p><a href="http://dorresteinappshub.ucsd.edu:5050/featurebasednetworking">The Superquick Start page for FBMN</a>. This page enables rapid submission of jobs with limited options. </p>
</li>
<li>
<p><a href="https://gnps.ucsd.edu/ProteoSAFe/index.jsp?params=%7B%22workflow%22:%22FEATURE-BASED-MOLECULAR-NETWORKING%22,%22library_on_server%22:%22d.speclibs;%22%7D">The standard GNPS interface page for FBMN</a> (you need to be logged in GNPS first).</p>
</li>
<li>
<p>For programmatic access to FBMN, contact Mingxun Wang at <a href="mailto:miw023@ucsd.edu">miw023@ucsd.edu</a>.</p>
</li>
</ul>
<h2 id="citations">Citations<a class="headerlink" href="#citations" title="Permanent link">¶</a></h2>
<div class="admonition quote">
<p class="admonition-title">Recommended Citations</p>
<p>This work builds on the efforts of our many colleagues, please make sure to cite the papers for their processing tools and the following GNPS papers</p>
<p>Nothias, L.-F., Petras, D., Schmid, R. et al. <a href="https://www.nature.com/articles/s41592-020-0933-6">Feature-based molecular networking in the GNPS analysis environment</a>. Nat. Methods 17, 905–908 (2020).</p>
<p>Wang, M. et al. <a href="https://doi.org/10.1038/nbt.3597">Sharing and community curation of mass spectrometry data with Global Natural Products Social Molecular Networking</a>. Nat. Biotechnol. 34, 828–837 (2016).</p>
<p>The citations from the mass spectrometry processing tools you used [<a href="../featurebasedmolecularnetworking-with-mzmine2/">MZmine2</a>, <a href="../featurebasedmolecularnetworking-with-openms/">OpenMS</a>, <a href="../featurebasedmolecularnetworking-with-ms-dial/">MS-DIAL</a>, <a href="../featurebasedmolecularnetworking-with-metaboscape/">MetaboScape</a>,<a href="../featurebasedmolecularnetworking-with-xcms3/">XCMS</a>, and <a href="../featurebasedmolecularnetworking-with-mztab-m/">mzTab-M format</a>. </p>
</div>
<h2 id="mass-spectrometry-data-processing-for-the-fbmn">Mass Spectrometry Data Processing for the FBMN<a class="headerlink" href="#mass-spectrometry-data-processing-for-the-fbmn" title="Permanent link">¶</a></h2>
<p>In brief, popular mass spectrometry processing programs have been adapted to export two files (<em>feature quantification table</em> and <em>MS/MS spectral summary</em>) files that can be used with the Feature Based Molecular Networking (FBMN) workflow on GNPS. Alternatively, the FBMN supports the mzTab-M format that can be inputted along witht the mzML file(s). The tools supported and their main features are presented in the table below along with a step-by-step documentation to use in FBMN on GNPS:</p>
<table>
<thead>
<tr>
<th>Processing tool</th>
<th>Doc.</th>
<th>Data supported</th>
<th>Interface</th>
<th>Platform</th>
<th>Code</th>
<th>Target user</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/mzmine/mzmine2/">MZmine</a></td>
<td><a href="../featurebasedmolecularnetworking-with-mzmine2/">See doc.</a></td>
<td>Non-targeted LC-MS/MS</td>
<td>Graphical UI</td>
<td>Any</td>
<td><a href="https://github.com/mzmine/mzmine2/blob/master/LICENSE.txt">Open source</a></td>
<td>Mass spectrometrists</td>
</tr>
<tr>
<td><a href="http://prime.psc.riken.jp/Metabolomics_Software/MS-DIAL/">MS-DIAL</a></td>
<td><a href="../featurebasedmolecularnetworking-with-ms-dial/">See doc.</a></td>
<td>Non-targeted LC-MS/MS, <strong>MSE</strong>, <strong>Ion Mobility</strong></td>
<td>Graphical UI</td>
<td>Windows</td>
<td><a href="http://prime.psc.riken.jp/Metabolomics_Software/MS-DIAL/">Open source</a></td>
<td>Mass spectrometrists</td>
</tr>
<tr>
<td><a href="https://github.com/OpenMS/OpenMS/">OpenMS</a></td>
<td><a href="../featurebasedmolecularnetworking-with-openms/">See doc.</a></td>
<td>Non-targeted LC-MS/MS</td>
<td>Commandline</td>
<td>Any</td>
<td><a href="https://github.com/OpenMS/OpenMS/blob/develop/License.txt">Open source</a></td>
<td>Bioinformaticians and developers</td>
</tr>
<tr>
<td><a href="https://github.com/sneumann/xcms">XCMS</a></td>
<td><a href="../featurebasedmolecularnetworking-with-xcms3/">See doc.</a></td>
<td>Non-targeted LC-MS/MS</td>
<td>Commandline</td>
<td>Any</td>
<td><a href="https://github.com/sneumann/xcms">Open source</a></td>
<td>Bioinformaticians and developers</td>
</tr>
<tr>
<td><a href="https://www.bruker.com/products/mass-spectrometry-and-separations/ms-software/metaboscape/overview.html">MetaboScape</a></td>
<td><a href="../featurebasedmolecularnetworking-with-metaboscape/">See doc.</a></td>
<td>Non-targeted LC-MS/MS, <strong>Ion Mobility</strong></td>
<td>Graphical UI</td>
<td>Windows</td>
<td>Proprietary code</td>
<td>Mass spectrometrists</td>
</tr>
<tr>
<td><a href="http://www.nonlinear.com/progenesis/qi/">Progenesis QI</a></td>
<td><a href="../featurebasedmolecularnetworking-with-progenesisQI/">See doc.</a></td>
<td>Non-targeted LC-MS/MS, <strong>MSE</strong>, <strong>Ion Mobility</strong></td>
<td>Graphical UI</td>
<td>Windows</td>
<td>Proprietary code</td>
<td>Mass spectrometrists</td>
</tr>
<tr>
<td><a href="https://pubs.acs.org/doi/abs/10.1021/acs.analchem.8b04310">mzTab-M</a></td>
<td><a href="../featurebasedmolecularnetworking-with-mztab-m/">See doc.</a></td>
<td>Non-targeted LC-MS/MS</td>
<td>Standardized format</td>
<td>Multi-systems</td>
<td><a href="https://github.com/lifs-tools/jmzTab-m">Open source</a></td>
<td>All public</td>
</tr>
</tbody>
</table>
<p><strong>IMPORTANT:</strong> The software used for the LC-MS/MS data processing has to be configured and utilized as recommended by its documentation.</p>
<h2 id="the-fbmn-workflow-in-gnps">The FBMN Workflow in GNPS<a class="headerlink" href="#the-fbmn-workflow-in-gnps" title="Permanent link">¶</a></h2>
<p>There is a dedicated Feature-Based Molecular Networking workflow on GNPS that <a href="https://gnps.ucsd.edu/ProteoSAFe/index.jsp?params=%7B%22workflow%22:%22FEATURE-BASED-MOLECULAR-NETWORKING%22,%22library_on_server%22:%22d.speclibs;%22%7D">can be accessed here</a> (you need to be logged in GNPS first).</p>
<h3 id="requirement-for-the-fbmn-workflow">Requirement for the FBMN workflow<a class="headerlink" href="#requirement-for-the-fbmn-workflow" title="Permanent link">¶</a></h3>
<p>After processing your LC-MS/MS data with the prefered software, it is possible to export the results following two methods:</p>
<p>Three type of input files are needed (test files for each software are accessible <a href="https://github.com/CCMS-UCSD/GNPSDocumentation/tree/master/docs/tutorials/AG_tutorial_files">here</a>):</p>
<p><strong>Option A (RECOMMENDED)</strong> - Export the processing results using a feature table and an .MGF file:</p>
<ol>
<li>A <em>feature table</em> with the intensities of LC-MS ion features (TXT or CSV format).</li>
<li>A <em>MS/MS spectral summary</em> file with a list of MS/MS spectra associated with the LC-MS ion features (.MGF File). (.MGF file format).</li>
<li>[Optional] <em>Metadata table</em> - format described <a href="../metadata/">here</a></li>
<li>[Optional] <em>Original mzML Files</em> - These are the original files used for feature finding - described <a href="#mzml-files-used-for-feature-finding">here</a></li>
<li>[Optional] <em>"Supplementary Pairs"</em> of additional edges - described <a href="#advanced-extras">here</a></li>
</ol>
<p><strong>Option B</strong> - Export the processing results using an mzTab-M and mzML files:</p>
<ol>
<li>
<p>Export a single mzTab-M file from the processed data. See and cite this <a href="https://pubs.acs.org/doi/abs/10.1021/acs.analchem.8b04310">publication</a>.</p>
</li>
<li>
<p>Use the mzML file(s) associated with mzTab-M file.</p>
</li>
<li>
<p>[Optional] <em>Metadata table</em> - format described <a href="../metadata/">here</a></p>
</li>
</ol>
<h2 id="superquick-feature-based-molecular-networking-workflow">SuperQuick Feature Based Molecular Networking Workflow<a class="headerlink" href="#superquick-feature-based-molecular-networking-workflow" title="Permanent link">¶</a></h2>
<p>A simplified interace for Super Quick web interace for FBMN <a href="http://dorresteinappshub.ucsd.edu:5050/featurebasednetworking">is available here</a>.</p>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/superquick_fbmn.png"/></p>
<h3 id="running-the-superquick-fbmn">Running the SuperQuick FBMN<a class="headerlink" href="#running-the-superquick-fbmn" title="Permanent link">¶</a></h3>
<ol>
<li>Indicate your email and your GNPS Credentials.</li>
<li>Select the 'Feature Generation tool'.</li>
<li>Select the parameters preset.</li>
<li>Option A. Drag and drop your "feature quantification table" and "MS/MS spectral file" (.MGF). See the respective documentation for FBMN each tool.</li>
<li>Optional. Drag and drop a <a href="../networking/#metadata">metadata table</a>.</li>
<li>Optional. Drag and drop a "Supplementary Pairs" csv file (<a href="#advanced-extras">see format</a>) with additional edges</li>
<li>Click on "Analyze Uploaded Files with GNPS Molecular Networking".</li>
</ol>
<p>While this SuperQuick FBMN interface is convenient for quick analysis, we recommend using the standard FBMN workflow. [<strong>IMPORTANT</strong>] The file uploaded along with the jobs submitted with Superquick start interface are deleted on monthly basis. Use the "standard" interface of the FBMN for persistant jobs and more options.</p>
<h3 id="overview-of-the-standard-interface">Overview of the standard interface<a class="headerlink" href="#overview-of-the-standard-interface" title="Permanent link">¶</a></h3>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/overview.png"/></p>
<h4 id="select-the-file-source">Select the file source<a class="headerlink" href="#select-the-file-source" title="Permanent link">¶</a></h4>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/select.png"/></p>
<h3 id="molecular-networks-options">Molecular Networks Options<a class="headerlink" href="#molecular-networks-options" title="Permanent link">¶</a></h3>
<h4 id="basic-options">Basic Options<a class="headerlink" href="#basic-options" title="Permanent link">¶</a></h4>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/Basic_Options_2.png"/></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precursor Ion Mass Tolerance (PIMT)</td>
<td>Parameter used for MS-Cluster and spectral library search expressed in Daltons. This value influences the aforementioned clustering of nearly-identical MS/MS spectra via MS-Cluster. Note that the value of this parameters should be consistent with the capabilities of the mass spectrometer and the specific instrument method used to generated the MS/MS data. Recommended Values value is ± 0.02 Da for high-resolution instruments (q-TOF, q-Orbitrap) and ± 2.0 Da for low-resolution instruments (ion traps, QqQ).</td>
<td>0.02</td>
</tr>
<tr>
<td>Fragment Ion Mass Tolerance (FIMT)</td>
<td>Parameters used for MS-Cluster, molecular networking, and MS/MS spectral library searches. For every group of MS/MS spectra being considered for clustering (consensus spectrum creation), this value specifies how much fragment ions can be shifted from their expected m/z values. Recommended Values value is ± 0.02 Da for high-resolution instruments (q-TOF, q-Orbitrap) and ± 0.5 Da for low-resolution instruments (ion traps, QqQ).</td>
<td>0.02</td>
</tr>
</tbody>
</table>
<h4 id="advanced-molecular-network-options">Advanced Molecular Network Options<a class="headerlink" href="#advanced-molecular-network-options" title="Permanent link">¶</a></h4>
<p><img alt="set title" src="../img/featurebasedmolecularnetworking/Advanced_Network_Options.png"/></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Min Pairs Cos</td>
<td>Minimum cosine score for a pair of consensus MS/MS spectra in order for an edge to be formed in the molecular network</td>
<td>0.7</td>
<td>Lower value will increase the size of the clusters by inducing the clustering of less related MS/MS spectra, higher value will do the opposite.</td>
</tr>
<tr>
<td>Minimum Matched Fragment Ion (Min Matched Peaks)</td>
<td>Parameters used for molecular networking. The minimum number of common fragment ions that are shared by two separate consensus MS/MS spectra in order to be connected by an edge in the molecular network</td>
<td>6</td>
<td>A low value will permit linkages between spectra of molecules with few similar fragment ions, but it will result in many more less-related spectra being connected to the network. An higher value will do the opposite. Default value is 6, but note that this parameters should be adjusted depending on the experimental conditions for mass spectra acquisition (such as mode of ionisation, fragmentation conditions, the mobile phase, etc.), and the collision-induced fragmentation settings of the molecules of interest within the samples. High molecular weight (MW) compounds and compounds with more hetero-atoms generally tend to produce more fragment ions. However, this rule cannot is not absolute. For example, some lipids with high MW generate only a few fragment ions.</td>
</tr>
<tr>
<td>Maximum shift between precursors</td>
<td>The maximum m/z difference between two precursors permitting their spectra to be considered as direct neighbors in a molecular network</td>
<td>500</td>
<td>The maximum mass difference between two connected nodes in a molecular network.</td>
</tr>
<tr>
<td>Network TopK</td>
<td>Maximum number of neighbor nodes for one single node</td>
<td>10</td>
<td>The edge between two nodes are kept only if both nodes are within each other's ‘TopK’ most similar nodes.  For example, if this value is set at 20, then a single node may be connected to up to 20 other nodes.  Keeping this value low makes very large networks (many nodes) much easier to visualize.</td>
</tr>
<tr>
<td>Maximum Connected Component Size</td>
<td>Maximum number of nodes allowed in a single connected network</td>
<td>100</td>
<td>Nodes within a single connected molecular network will be separated by increasing cosine threshold for that specific connected molecular network. Default value is 100. Use 0 to allow an unlimited number of nodes in a single network. Note that with large datasets, or when a great number of related molecules are in the dataset, this value should be higher (or turn to 0) to retain as much information as possible. Downstream, these larger networks can be visualized using Cytoscape layout algorithms that can increase the intra-network clustering, allowing to visualize spectral groups in the network despite the number of nodes in the network.</td>
</tr>
</tbody>
</table>
<h4 id="advanced-spectral-library-search-options">Advanced Spectral Library Search Options<a class="headerlink" href="#advanced-spectral-library-search-options" title="Permanent link">¶</a></h4>
<p><img alt="set title" src="../img/featurebasedmolecularnetworking/Advanced_Library_Search_Options.png"/></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Library Search Min Matched Peaks</td>
<td>Minimum number of common fragment ions that MS/MS spectra should contain in order to be considered for spectral library annotation. Default value is 6, but note that this parameters should be tuned depending on the molecules of interest, and the experimental conditions (such as the ionisation mode and the fragmentation conditions). For example, the collision-induced fragmentation of some lipids produce only a few fragment ions. A lower value will allow clustering of MS/MS spectra containing less  fragment ions, however it will also induce clustering of MS/MS spectra from different molecular types to be connected in one network. A higher value will do the opposite</td>
<td>6</td>
</tr>
<tr>
<td>Score Threshold</td>
<td>Minimum cosine score that MS/MS spectra should get in spectral matching with MS/MS spectral libraries in order to be considered an annotation.</td>
<td>0.7</td>
</tr>
<tr>
<td>Search Analogs</td>
<td>Whether to search data for analogs to library spectra</td>
<td>Don't Search</td>
</tr>
<tr>
<td>Maximum Analog Search Mass Difference</td>
<td>Maximum mass shift between the library and putative analogs found</td>
<td>100 (Da)</td>
</tr>
<tr>
<td>Top results to report per query</td>
<td>Number of matches to report for each feature</td>
<td>1</td>
</tr>
</tbody>
</table>
<h4 id="advanced-filtering-options-for-spectra">Advanced Filtering Options (for Spectra)<a class="headerlink" href="#advanced-filtering-options-for-spectra" title="Permanent link">¶</a></h4>
<p><img alt="set title" src="../img/featurebasedmolecularnetworking/Advanced_filtering_options.png"/></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Minimum Peak Intensity</td>
<td>All fragment ions in the MS/MS spectra below this raw intensity value will be deleted. By default, the filtering is disabled.</td>
<td>0</td>
</tr>
<tr>
<td>Filter Precursor  Window</td>
<td>All peaks in a +/- 17 Da around precursor ion mass are deleted. Enabled by default. This removes the residual precursor ion, which is frequently observed in MS/MS spectra acquired on qTOFs.</td>
<td>Filter</td>
</tr>
<tr>
<td>Filter library</td>
<td>Apply peak filters to library</td>
<td>Filter</td>
</tr>
<tr>
<td>Filter peaks in 50Da Window</td>
<td>Filter out peaks that are not in the top 6 most intense peaks in a +/- 50Da window</td>
<td>Filter</td>
</tr>
</tbody>
</table>
<h4 id="advanced-quantification-options">Advanced Quantification Options<a class="headerlink" href="#advanced-quantification-options" title="Permanent link">¶</a></h4>
<p>There are additional normalization options specifically for the FBMN workflow:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Normalization Per File</td>
<td>Total Ion Current (TIC) normalization can be applied to the ion intensities (LC-MS1 peak area) per sample (NOT RECOMMENDED AS DEFAULT)</td>
<td>No Norm</td>
</tr>
<tr>
<td>Aggregation Method for Peak Abundances Per Group</td>
<td>The ion feature intensity (LC-MS1 peak area) can be aggregated by GROUPS from the metadatable with either a <em>Sum</em> or <em>Average</em> (RECOMMENDED, because it is more robust to the difference in the number of samples per GROUPS).</td>
<td>Average</td>
</tr>
</tbody>
</table>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/Advanced_Quantification_Options_2.png"/></p>
<h4 id="advanced-univariate-statistics-options">Advanced Univariate Statistics Options<a class="headerlink" href="#advanced-univariate-statistics-options" title="Permanent link">¶</a></h4>
<p>These options will enabling the calculation of statistics as well as draw box plots for exploring. </p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>Metadata Column to Compare</td>
<td>This is the column name in your metadata (e.g. ATTRIBUTE_condition)</td>
<td>Empty</td>
</tr>
<tr>
<td>Metadata Field to Compare</td>
<td>This is the first field in the metadata data column to compare (e.g. CONTROL)</td>
<td>Empty</td>
</tr>
<tr>
<td>Metadata Field to Compare</td>
<td>This is the second field in the metadata data column to compare (e.g. CASE)</td>
<td>Empty</td>
</tr>
<tr>
<td>Metadata Column to Facet</td>
<td>This is another column where you can facet based on the terms (e.g. ATTRIBUTE_media)</td>
<td>Empty</td>
</tr>
</tbody>
</table>
<h4 id="advanced-extras">Advanced Extras<a class="headerlink" href="#advanced-extras" title="Permanent link">¶</a></h4>
<p>"Supplementary Pairs" is an option to add extra edges to the resulting FBMN. It was initially implemented for the <a href="../fbmn-iin/">Ion Identity Networking (IIN) workflow</a>. The IIN supports currently MZmine, XCMS-CAMERA, and MS-DIAL. However, this approach is designed to stimulate the development and testing of new workflows as the input is an edge file in a generic CSV format. An edge is described by the following table:</p>
<table>
<thead>
<tr>
<th>Header</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ID1</td>
<td>Node ID 1 matching the row IDs</td>
</tr>
<tr>
<td>ID2</td>
<td>Node ID 2 matching the row IDs</td>
</tr>
<tr>
<td>EdgeType</td>
<td>Any string describing the type of edge</td>
</tr>
<tr>
<td>Score</td>
<td>A numerical value for the score (cannot be empty)</td>
</tr>
<tr>
<td>Annotation</td>
<td>A string annotation</td>
</tr>
</tbody>
</table>
<p>Note that if Supplementary Pairs from other software are used, it is mandatory that the as the LC-MS feature identifier (ID) matches the "SCANS=" number in the MGF file.</p>
<p>Example of the Supplementary Pairs used in the <a href="../fbmn-iin/">IIN workflow</a>. </p>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/fbmn_iin_edges.PNG"/></p>
<p><img alt="img" src="../img/featurebasedmolecularnetworking/fbmn_advanced_extras.PNG"/></p>
<h4 id="mzml-files-used-for-feature-finding">mzML Files Used for Feature Finding<a class="headerlink" href="#mzml-files-used-for-feature-finding" title="Permanent link">¶</a></h4>
<p>The original mzML/mzXML files that were used for feature finding can also be included. This provides a way for the workflow to link back to the original files and help people explore the data interactively. </p>
<h3 id="inspecting-the-results-of-fbmn-on-gnps">Inspecting the Results of FBMN on GNPS<a class="headerlink" href="#inspecting-the-results-of-fbmn-on-gnps" title="Permanent link">¶</a></h3>
<p>After the completion of the FBMN job (this will take from 10 to 10 hours depending on your number of samples and instrument), you will receive an email notification with a link to the results page (see example below).</p>
<p><img alt="Results" src="../img/featurebasedmolecularnetworking/results_FBMN.png"/></p>
<h4 id="spectral-library-match-and-network-topology-analysis">Spectral Library Match and Network Topology Analysis<a class="headerlink" href="#spectral-library-match-and-network-topology-analysis" title="Permanent link">¶</a></h4>
<p>For more information about the inspection of the molecular networking results, please refer to <a href="../networkingviews/">the main documentation page</a>.</p>
<h5 id="web-browser-molecular-network-visualization">Web-browser Molecular Network Visualization<a class="headerlink" href="#web-browser-molecular-network-visualization" title="Permanent link">¶</a></h5>
<p>Here is an example of web-browser view of molecular networks. Click on the link to <a href="https://gnps.ucsd.edu/ProteoSAFe/result.jsp?view=network_displayer&amp;componentindex=56&amp;task=51ee77f5c6d74f878e873f0b1dfe0b5f#%7B%7D">view the interactive molecular networks</a>.</p>
<p><img alt="Results" src="../img/featurebasedmolecularnetworking/web_view_FBMN.png"/></p>
<h3 id="inspecting-the-results-of-fbmn-in-cytoscape">Inspecting the Results of FBMN in Cytoscape<a class="headerlink" href="#inspecting-the-results-of-fbmn-in-cytoscape" title="Permanent link">¶</a></h3>
<p>Cytoscape is an open source software platform used to visualize, analyze and annotate molecular networks from GNPS. <a href="../featurebasedmolecularnetworking-cytoscape/">See the documentation here</a>.</p>
<p><img alt="img" src="../img/cytoscape/import_2.png"/></p>
<h3 id="demo-gnps-job-of-fbmn">Demo GNPS job of FBMN<a class="headerlink" href="#demo-gnps-job-of-fbmn" title="Permanent link">¶</a></h3>
<p><a href="https://gnps.ucsd.edu/ProteoSAFe/status.jsp?task=52a390c8eb654b7fa8d61a1c7a4aaab5">Here is an example FBMN</a> job with files resulting from MZmine2 processing of a subset of the [American Gut Project] (http://humanfoodproject.com/americangut/).</p>
<h3 id="running-the-dereplicator">Running the DEREPLICATOR<a class="headerlink" href="#running-the-dereplicator" title="Permanent link">¶</a></h3>
<p>The Insilico Peptidic Natural Products Dereplicator is a bioinformatic tool that allows the annotation of known peptidic natural products in MS/MS data using in silico fragmentation tree. This workflow is also included into the Feature Based Molecular Network workflow, then you have the option to use it by clicking into Advanced External tools. After your job has completed you can explore your results and even <em>clone</em> the Dereplicator job and modify the parameters.</p>
<p>If you use that tool, please cite the DEREPLICATOR papers. <a href="../dereplicator/">See citations in the main DEREPLICATOR documentation</a>.</p>
<p><img alt="emperor" src="../img/featurebasedmolecularnetworking/dereplicator.png"/></p>
<h3 id="running-network-annotation-propagation">Running Network Annotation Propagation<a class="headerlink" href="#running-network-annotation-propagation" title="Permanent link">¶</a></h3>
<p>It is possible to use the results of FBMN to run Network Annotation Propagation (NAP). NAP uses spectral networks to propagate information from spectral library matching, in order to improve in silico fragmentation candidate structure ranking. See the following <a href="../nap/">documentation for NAP</a></p>
<p><img alt="cand_chemviz" src="../img/nap/display_consensus_candidates.gif"/></p>
<p>If you use that tool, please cite the NAP paper. <a href="../nap/">See citations in the main NAP documentation</a>.</p>
<h3 id="running-ms2lda-substructure-discovery">Running MS2LDA Substructure Discovery<a class="headerlink" href="#running-ms2lda-substructure-discovery" title="Permanent link">¶</a></h3>
<p><strong>The results of FBMN can be directly analyzed with MS2LDA</strong>. For this, on the result page click on "Advanced View" &gt; "Analyze with MS2LDA". See the <a href="../ms2lda/">MS2LDA documentation</a>.</p>
<p><img alt="img" src="../img/ms2lda/banner.png"/></p>
<p>MS2LDA is a tool that decomposes molecular fragmentation data derived from large metabolomics experiments into annotated Mass2Motifs or discovers Mass2Motifs from experimental data. Mass2Motifs are fragmentation patterns of often co-occurring mass fragment peaks and/or neutral losses that often represent molecular substructures. Check out the MS2LDA website here where you can find more information, browse through data sets, and sign up for an account to run the Mass2Motif discovery on your own data. At GNPS, we are working with the MS2LDA team to integrate both workflows which allows users to map Mass2Motif occurrences in their Molecular Families.</p>
<p>If you use that tool, please cite MS2LDA papers. <a href="../ms2lda/">See citations in the main MS2LDA documentation</a>.</p>
<h3 id="running-molnetenhancer-with-fbmn">Running MolNetEnhancer with FBMN<a class="headerlink" href="#running-molnetenhancer-with-fbmn" title="Permanent link">¶</a></h3>
<p><a href="https://www.mdpi.com/2218-1989/9/7/144">MolNetEnhancer</a> is a workflow that enables to combine the outputs from molecular networking, MS2LDA, in silico structure annotation tools (such as Network Annotation Propagation or DEREPLICATOR) and the automated chemical classification through ClassyFire to provide a more comprehensive chemical overview of metabolomics data whilst at the same time illuminating structural details for each fragmentation spectrum. For more information refer to the main MolNetEnhancer publication.</p>
<p>See the <a href="../molnetenhancer/">main documentation of MolNetEnh</a> for informations about using it for FBMN. </p>
<h3 id="viewing-the-pcoa-plot-with-emperor-in-qiime2">Viewing the PCoA plot with EMPeror in Qiime2<a class="headerlink" href="#viewing-the-pcoa-plot-with-emperor-in-qiime2" title="Permanent link">¶</a></h3>
<p>EMPeror, is an open source and web browser enabled tool that allows researchers to perform rapid exploratory investigations of 3D visualizations of data. To view the PCoA plot (using Bray-Curtis dissimilarity metrics) with the EMPeror Qiime2 plugin, click on <strong>"View qiime2 Emperor Plots"</strong>.</p>
<p><img alt="emperor" src="../img/featurebasedmolecularnetworking/emperor.png"/></p>
<p><strong>Citation for EMPeror</strong>: Yoshiki Vázquez-Baeza, Meg Pirrung, Antonio Gonzalez, and Rob Knight. Gigascience, 2(1):16, 2013. <a href="https://academic.oup.com/gigascience/article/2/1/2047-217X-2-16/2656132">doi:10.1186/2047-217X-2-16</a>.</p>
<p><strong>Citation for Qiime2</strong>: Bolyen, E. et al. QIIME 2: Reproducible, interactive, scalable, and extensible microbiome data science. (PeerJ Preprints, 2018). <a href="https://peerj.com/preprints/27295/">doi:10.7287/peerj.preprints.27295v2</a></p>
<h3 id="video-tutorial-analyze-fbmn-in-gnps">Video Tutorial - Analyze FBMN in GNPS<a class="headerlink" href="#video-tutorial-analyze-fbmn-in-gnps" title="Permanent link">¶</a></h3>
<iframe height="400" src="https://www.youtube.com/embed/NTkQ0fS1aug" width="600"> </iframe>
<h2 id="tutorials">Tutorials<a class="headerlink" href="#tutorials" title="Permanent link">¶</a></h2>
<p>See our <a href="../tutorials/americangutmzmine/">tutorial on using MZmine2</a> for FBMN analysis of a cohort from the <a href="http://humanfoodproject.com/americangut/">American Gut Project</a>, and our <a href="../tutorials/featurebasedgnps/">tutorial on running a FBMN analysis on GNPS</a>.</p>
<h2 id="development">Development<a class="headerlink" href="#development" title="Permanent link">¶</a></h2>
<h4 id="source-code">Source code<a class="headerlink" href="#source-code" title="Permanent link">¶</a></h4>
<p>The FBMN source code can be found on the <a href="https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking">GNPS_Workflows GitHub repository</a>.</p>
<p>Requirements for the input files for each processing tool are described at https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking and representative input files are provided at <a href="https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking/test/reference_input_file_for_formatter.g">https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking/test/reference_input_file_for_formatter</a>.</p>
<p>The "formatter" scripts that convert input files of the supported softwares are accessible <a href="https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking/tools/feature-based-molecular-networking/scripts">in the <em>script/</em> folder</a>.</p>
<h4 id="input-files-requirements">Input files requirements<a class="headerlink" href="#input-files-requirements" title="Permanent link">¶</a></h4>
<p>The FBMN workflow accepts as input files either:</p>
<ul>
<li>A <em>MS/MS spectral summary</em> and a <em>feature quantification table</em>.</li>
<li>or an <em>mzTab-M</em> file and the associated <em>mzML</em> files.</li>
</ul>
<h5 id="msms-spectral-summary-and-feature-quantification-table">MS/MS spectral summary and feature quantification table<a class="headerlink" href="#msms-spectral-summary-and-feature-quantification-table" title="Permanent link">¶</a></h5>
<p>Applicable for MZmine, OpenMS, MS-DIAL, XCMS, MetaboScape, and Progenesis QI.</p>
<h6 id="msms-spectral-summary">MS/MS spectral summary<a class="headerlink" href="#msms-spectral-summary" title="Permanent link">¶</a></h6>
<p>The MS/MS spectral summary contains a list of representative spectra in the Mascot Generic Format (<strong>MGF</strong> file). An <strong>MGF</strong> file is a plain text file (ASCII) containing peak list information and spectra parameters (more information at <a href="http://www.matrixscience.com/help/data_file_help.html">http://www.matrixscience.com/help/data_file_help.html</a>. Note that for Progenesis QI, instead of an <strong>MGF</strong> file, an <strong>MSP</strong> file (NIST spectral library format) is used instead.</p>
<h6 id="feature-quantification-table">Feature quantification table<a class="headerlink" href="#feature-quantification-table" title="Permanent link">¶</a></h6>
<p>The <em>feature quantification table</em> (<strong>TXT</strong> or <strong>CSV</strong> file) is specific for each supported processing tool and processed internally by GNPS. Yet, it needs to contain a <strong>Feature IDentifier</strong> (integer) for each LC-MS1 feature that must be unique and match the "<strong>SCANS=</strong>" header of the corresponding spectrum in the <em>MS/MS spectral summary</em> (<strong>MGF</strong> file). Note that the number of LC-MS1 features in the <em>feature quantification table</em> can be larger than the number of LC-MS1 features with a spectrum in the <em>MS/MS spectral file</em>, and the <em>Feature IDentifier</em> does not have to be sequencial. As a result, the <em>feature quantification table</em> can contain LC-MS1 feature that does not have an associated MS/MS scan in the <em>MS/MS spectral file</em>. The PCoA generated with qiime2 EMPeror in FBMN workflow uses the entire content of <em>feature quantification table</em> provided.</p>
<p>For all the processing tools supported, the mapping between the "<strong>Feature ID</strong>" of the <em>feature quantification table</em> should be consistent with the "<strong>SCAN</strong>" header of the representative spectrum in the <em>MS/MS spectral summary</em>. See <a href="https://github.com/CCMS-UCSD/GNPSDocumentation/tree/master/docs/tutorials/AG_tutorial_files">this page for example files</a>. Note that internally, the <em>feature quantification table</em> file inputted by the user are converted to a standard internal format prior to FBMN analysis in GNPS. The python scripts used for the conversion <em>feature quantification Table</em> from various software <a href="https://github.com/CCMS-UCSD/GNPS_Workflows/tree/master/feature-based-molecular-networking/tools/feature-based-molecular-networking/scripts">are available here</a>. If you want to add support for another LC-MS processing tool, please contact us.</p>
<h5 id="support-for-mz-tab-m-format">Support for mz-Tab-M format<a class="headerlink" href="#support-for-mz-tab-m-format" title="Permanent link">¶</a></h5>
<p>The <strong>mzTab-M</strong> format is a standardized output designed for the report of metabolomics MS-data processing results. The FBMN workflow now supports the mzTab-M format (2.0, release 1.0.5). The <strong>mzTab-M</strong> file has to be inputed along with the related <strong>mzML</strong> files. </p>
<p>Basically, the <strong>mzTab-M</strong> file is used to retrieve for each LC-MS/MS feature:</p>
<ul>
<li>The abundance of the LC-MS/MS feature in each sample.</li>
<li>The filename (<strong>mzML</strong>) and the index of the most intense associated MS/MS spectrum. </li>
</ul>
<p>Note that currently, the mzTab-M has been tested only with XCMS. More informations in the <a href="../featurebasedmolecularnetworking-with-mztab-m/">FBMN with mzTab-M documentation</a>.</p>
<h5 id="programmatic-access-to-fbmn">Programmatic Access to FBMN<a class="headerlink" href="#programmatic-access-to-fbmn" title="Permanent link">¶</a></h5>
<p>For programmatic access to the FBMN workflow, contact Mingxun Wang at <a href="mailto:miw023@ucsd.edu">miw023@ucsd.edu</a>.</p>
<h3 id="join-the-gnps-community">Join the GNPS Community !<a class="headerlink" href="#join-the-gnps-community" title="Permanent link">¶</a></h3>
<ul>
<li>For feature request, or to report bugs, please open an "Issue" on the <a href="https://github.com/CCMS-UCSD/GNPS_Workflows"><em>CCMS-UCSD/GNPS_Workflows</em> GitHub repository</a>.</li>
<li>To contribute to the GNPS documentation, please use GitHub by forking the <a href="https://github.com/CCMS-UCSD/GNPSDocumentation"><em>CCMS-UCSD/GNPSDocumentation</em></a> repository, and make a "Pull Request" with the changes.</li>
</ul>
<h2 id="page-contributions">Page Contributions<a class="headerlink" href="#page-contributions" title="Permanent link">¶</a></h2>
<p><span class="git-page-authors git-authors"><a href="mailto:mwang87@gmail.com">Ming Wang</a> (25.39%), <a href="mailto:louisfelix.nothias@gmail.com">lfnothias</a> (66.77%), <a href="mailto:iprotsyuk@google.com">Ivan Protsyuk</a> (4.08%), <a href="mailto:robinschmid@uni-muenster.de">robinschmid</a> (2.51%), <a href="mailto:mccall.lauraisobel@gmail.com">Laura-Isobel McCall</a> (1.25%)</span></p>
<hr/>
<div class="md-source-date">
<small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-datetime">October 13, 2020 22:14:44</span>
</small>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Molecular Networking Files" class="md-footer__link md-footer__link--prev" href="../networkingfiles/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              Molecular Networking Files
            </div>
</div>
</a>
<a aria-label="Next: FBMN with MZmine" class="md-footer__link md-footer__link--next" href="../featurebasedmolecularnetworking-with-mzmine2/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              FBMN with MZmine
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
          Material for MkDocs
        </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.94ec81fe.min.js", "version": null}</script>
<script src="../assets/javascripts/bundle.48dfec6c.min.js"></script>
</body>
</html>