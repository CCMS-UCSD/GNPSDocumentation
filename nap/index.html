


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <link rel="canonical" href="https://ccms-ucsd.github.io/GNPSDocumentation/nap/">
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.0">
    
    
      
        <title>Network Annotation Propagation (NAP) - GNPS Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.18ac144a.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-8412213-5","ccms-ucsd.github.io"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#network-annotation-propagation-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://ccms-ucsd.github.io/GNPSDocumentation/" title="GNPS Documentation" class="md-header-nav__button md-logo" aria-label="GNPS Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            GNPS Documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Network Annotation Propagation (NAP)
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/CCMS-UCSD/GNPSDocumentation/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CCMS-UCSD/GNPSDocumentation
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://ccms-ucsd.github.io/GNPSDocumentation/" title="GNPS Documentation" class="md-nav__button md-logo" aria-label="GNPS Documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    GNPS Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/CCMS-UCSD/GNPSDocumentation/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    CCMS-UCSD/GNPSDocumentation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="GNPS Introduction" class="md-nav__link">
      GNPS Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../isgnpsright/" title="Is my data compatible with GNPS?" class="md-nav__link">
      Is my data compatible with GNPS?
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../faq/" title="Frequently Asked Questions" class="md-nav__link">
      Frequently Asked Questions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../superquickstart/" title="Superquick Start Guide" class="md-nav__link">
      Superquick Start Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quick Start Guide" class="md-nav__link">
      Quick Start Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gnpsanalysisoverview/" title="GNPS Analysis Tools Overview" class="md-nav__link">
      GNPS Analysis Tools Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Mass Spec/Computational Background
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Mass Spec/Computational Background" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Mass Spec/Computational Background
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../massspecbackground/networkingtheory/" title="Molecular Networking" class="md-nav__link">
      Molecular Networking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Data Preparation/Upload
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Data Preparation/Upload" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Data Preparation/Upload
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../fileconversion/" title="Mass Spectrometry File Conversion" class="md-nav__link">
      Mass Spectrometry File Conversion
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fileupload/" title="GNPS File Upload" class="md-nav__link">
      GNPS File Upload
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metadata/" title="Metadata" class="md-nav__link">
      Metadata
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Recommended Data Analysis
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Recommended Data Analysis" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Recommended Data Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../networking/" title="Molecular Networking" class="md-nav__link">
      Molecular Networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2">
    
    <label class="md-nav__link" for="nav-9-2">
      GC-MS Molecular Networking
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="GC-MS Molecular Networking" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        GC-MS Molecular Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../gcanalysis/" title="GC-MS on GNPS" class="md-nav__link">
      GC-MS on GNPS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gc-ms-deconvolution/" title="GC-MS Deconvolution" class="md-nav__link">
      GC-MS Deconvolution
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../gc-ms-library-molecular-network/" title="GC-MS Library Search and Molecular Networking" class="md-nav__link">
      GC-MS Library Search and Molecular Networking
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../networkingviews/" title="Molecular Networking Views" class="md-nav__link">
      Molecular Networking Views
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../librarysearch/" title="Spectral Library Search" class="md-nav__link">
      Spectral Library Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../masst/" title="MASST Search (Mass Search Tool)" class="md-nav__link">
      MASST Search (Mass Search Tool)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resultviews/" title="Result Views Navigation" class="md-nav__link">
      Result Views Navigation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10" checked>
    
    <label class="md-nav__link" for="nav-10">
      Advanced Data Analysis
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced Data Analysis" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Advanced Data Analysis
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10-1" type="checkbox" id="nav-10-1">
    
    <label class="md-nav__link" for="nav-10-1">
      Feature Based Molecular Networking
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Feature Based Molecular Networking" data-md-level="2">
      <label class="md-nav__title" for="nav-10-1">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Feature Based Molecular Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking/" title="FBMN Workflow" class="md-nav__link">
      FBMN Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-mzmine2/" title="FBMN with MZmine" class="md-nav__link">
      FBMN with MZmine
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-ms-dial/" title="FBMN with MS-DIAL" class="md-nav__link">
      FBMN with MS-DIAL
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-xcms3/" title="FBMN with XCMS" class="md-nav__link">
      FBMN with XCMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-openms/" title="FBMN with OpenMS" class="md-nav__link">
      FBMN with OpenMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-metaboscape/" title="FBMN with MetaboScape" class="md-nav__link">
      FBMN with MetaboScape
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-progenesisQI/" title="FBMN with Progenesis QI" class="md-nav__link">
      FBMN with Progenesis QI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-with-mztab-m/" title="FBMN with mzTab-M" class="md-nav__link">
      FBMN with mzTab-M
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../featurebasedmolecularnetworking-cytoscape/" title="FBMN export to Cytoscape" class="md-nav__link">
      FBMN export to Cytoscape
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10-2" type="checkbox" id="nav-10-2">
    
    <label class="md-nav__link" for="nav-10-2">
      FBMN - Ion Identity Networking
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="FBMN - Ion Identity Networking" data-md-level="2">
      <label class="md-nav__title" for="nav-10-2">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        FBMN - Ion Identity Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../fbmn-iin/" title="IIN Workflow" class="md-nav__link">
      IIN Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fbmn-iin-mzmine/" title="IIN with MZmine2" class="md-nav__link">
      IIN with MZmine2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fbmn-iin-xcms/" title="IIN with XCMS" class="md-nav__link">
      IIN with XCMS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../fbmn-iin-msdial/" title="IIN with MS-DIAL" class="md-nav__link">
      IIN with MS-DIAL
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ms2lda/" title="MS2LDA and MotifDB Substructure Discovery" class="md-nav__link">
      MS2LDA and MotifDB Substructure Discovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cytoscape/" title="Molecular Networking in Cytoscape" class="md-nav__link">
      Molecular Networking in Cytoscape
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dereplicator/" title="DEREPLICATOR" class="md-nav__link">
      DEREPLICATOR
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Network Annotation Propagation (NAP)
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Network Annotation Propagation (NAP)" class="md-nav__link md-nav__link--active">
      Network Annotation Propagation (NAP)
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#network-annotation-propagation-overview" class="md-nav__link">
    Network Annotation Propagation Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nap-short-hands-on-tutorial" class="md-nav__link">
    NAP short hands on tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-input-preparation" class="md-nav__link">
    Data Input Preparation
  </a>
  
    <nav class="md-nav" aria-label="Data Input Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-database" class="md-nav__link">
    Structure database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-nap" class="md-nav__link">
    Running NAP
  </a>
  
    <nav class="md-nav" aria-label="Running NAP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nap-workflow-selection" class="md-nav__link">
    NAP Workflow Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-walkthrough" class="md-nav__link">
    Parameter Walkthrough
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#online-exploration-of-nap-results" class="md-nav__link">
    Online Exploration of NAP results
  </a>
  
    <nav class="md-nav" aria-label="Online Exploration of NAP results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-structure-view" class="md-nav__link">
    1. Structure view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-graph-view" class="md-nav__link">
    2. Graph view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-fragment-view" class="md-nav__link">
    3. Fragment view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-full-candidate-list-view" class="md-nav__link">
    4. Full candidate list view
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nap-visualization-in-cytoscape" class="md-nav__link">
    NAP Visualization in Cytoscape
  </a>
  
    <nav class="md-nav" aria-label="NAP Visualization in Cytoscape">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-nap-cytoscape-files" class="md-nav__link">
    Download NAP Cytoscape files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-chemviz-plugin" class="md-nav__link">
    Installing the ChemViz plugin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-nap-cytoscape-file-and-apply-layout" class="md-nav__link">
    Load NAP Cytoscape file and apply layout
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-image-display-properties-and-paint-library-match-structure" class="md-nav__link">
    Change image display properties and paint library match structure
  </a>
  
    <nav class="md-nav" aria-label="Change image display properties and paint library match structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-display-properties-and-paint-on-multiple-nodes" class="md-nav__link">
    Change display properties and paint on multiple nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-the-list-of-candidates" class="md-nav__link">
    Display the list of candidates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" class="md-nav__link">
    Citation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contribute-to-the-documentation" class="md-nav__link">
    Contribute to the Documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ms2lda/" title="MS2LDA and MotifDB Substructure Discovery" class="md-nav__link">
      MS2LDA and MotifDB Substructure Discovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../molnetenhancer/" title="MolNetEnhancer" class="md-nav__link">
      MolNetEnhancer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../metaminer/" title="MetaMiner" class="md-nav__link">
      MetaMiner
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../ReDU/" title="Reanalysis of Data User Interface (ReDU)" class="md-nav__link">
      Reanalysis of Data User Interface (ReDU)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../qemistree/" title="Qemistree" class="md-nav__link">
      Qemistree
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      Spectral Libraries
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Spectral Libraries" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Spectral Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../browselibraries/" title="Browsing Reference Spectral Libraries" class="md-nav__link">
      Browsing Reference Spectral Libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../spectrumcuration/" title="Add/Curate Reference Spectrum in the Library" class="md-nav__link">
      Add/Curate Reference Spectrum in the Library
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../batchupload/" title="Reference Spectral Library Batch Addition" class="md-nav__link">
      Reference Spectral Library Batch Addition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../downloadlibraries/" title="Downloading Reference Spectral Libraries" class="md-nav__link">
      Downloading Reference Spectral Libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11-5" type="checkbox" id="nav-11-5">
    
    <label class="md-nav__link" for="nav-11-5">
      Open-source Method for Reference Library Generation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Open-source Method for Reference Library Generation" data-md-level="2">
      <label class="md-nav__title" for="nav-11-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Open-source Method for Reference Library Generation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../msmschooser/" title="MSMS-Chooser Workflow" class="md-nav__link">
      MSMS-Chooser Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../msmschooserdataacquisitioncomputational/" title="Computational Data Acquisition Prep" class="md-nav__link">
      Computational Data Acquisition Prep
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../msmschooserdataacquisitionQE/" title="Data Acqusition - Thermo QExactive (v1.0)" class="md-nav__link">
      Data Acqusition - Thermo QExactive (v1.0)
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tag_info/" title="GNPS Tag Contribution and Analyses" class="md-nav__link">
      GNPS Tag Contribution and Analyses
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Create a Public Datasets
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Create a Public Datasets" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Create a Public Datasets
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../datasets/" title="Dataset Creation/Sharing" class="md-nav__link">
      Dataset Creation/Sharing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../continuousid/" title="Continuous Identification" class="md-nav__link">
      Continuous Identification
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../moleculeexplorer/" title="Molecule Explorer" class="md-nav__link">
      Molecule Explorer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Community/Social Features
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Community/Social Features" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Community/Social Features
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../user/" title="User Page" class="md-nav__link">
      User Page
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Tutorial Guides
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Tutorial Guides" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Tutorial Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/bacterianetworking/" title="Molecular Networking - Analog Discovery in Microbial Extracts" class="md-nav__link">
      Molecular Networking - Analog Discovery in Microbial Extracts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/americangutmzmine/" title="Feature-Based Molecular Networking (FBMN) with MZmine2 - Microbiome Molecules in Fecal Samples in American Gut Project" class="md-nav__link">
      Feature-Based Molecular Networking (FBMN) with MZmine2 - Microbiome Molecules in Fecal Samples in American Gut Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/americangut-ms-dial/" title="FBMN with MS-DIAL - Microbiome Molecules in Fecal Samples in American Gut Project" class="md-nav__link">
      FBMN with MS-DIAL - Microbiome Molecules in Fecal Samples in American Gut Project
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/coffee-tutorial-metaboscape/" title="FBMN with MetaboScape - Coffee Analysis" class="md-nav__link">
      FBMN with MetaboScape - Coffee Analysis
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tutorials/featurebasedgnps/" title="FBMN analysis at GNPS" class="md-nav__link">
      FBMN analysis at GNPS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../changelog/" title="Change Log" class="md-nav__link">
      Change Log
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../gnps_community/" title="Join the GNPS community" class="md-nav__link">
      Join the GNPS community
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../workshops/" title="GNPS Workshops/Training" class="md-nav__link">
      GNPS Workshops/Training
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../logos/" title="GNPS Logos" class="md-nav__link">
      GNPS Logos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../contact/" title="Contact/Office Hours" class="md-nav__link">
      Contact/Office Hours
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../toolindex/" title="GNPS Tool Index" class="md-nav__link">
      GNPS Tool Index
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#network-annotation-propagation-overview" class="md-nav__link">
    Network Annotation Propagation Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nap-short-hands-on-tutorial" class="md-nav__link">
    NAP short hands on tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-input-preparation" class="md-nav__link">
    Data Input Preparation
  </a>
  
    <nav class="md-nav" aria-label="Data Input Preparation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#structure-database" class="md-nav__link">
    Structure database
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-nap" class="md-nav__link">
    Running NAP
  </a>
  
    <nav class="md-nav" aria-label="Running NAP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nap-workflow-selection" class="md-nav__link">
    NAP Workflow Selection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameter-walkthrough" class="md-nav__link">
    Parameter Walkthrough
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#online-exploration-of-nap-results" class="md-nav__link">
    Online Exploration of NAP results
  </a>
  
    <nav class="md-nav" aria-label="Online Exploration of NAP results">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-structure-view" class="md-nav__link">
    1. Structure view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-graph-view" class="md-nav__link">
    2. Graph view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-fragment-view" class="md-nav__link">
    3. Fragment view
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-full-candidate-list-view" class="md-nav__link">
    4. Full candidate list view
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nap-visualization-in-cytoscape" class="md-nav__link">
    NAP Visualization in Cytoscape
  </a>
  
    <nav class="md-nav" aria-label="NAP Visualization in Cytoscape">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-nap-cytoscape-files" class="md-nav__link">
    Download NAP Cytoscape files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-chemviz-plugin" class="md-nav__link">
    Installing the ChemViz plugin
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-nap-cytoscape-file-and-apply-layout" class="md-nav__link">
    Load NAP Cytoscape file and apply layout
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-image-display-properties-and-paint-library-match-structure" class="md-nav__link">
    Change image display properties and paint library match structure
  </a>
  
    <nav class="md-nav" aria-label="Change image display properties and paint library match structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#change-display-properties-and-paint-on-multiple-nodes" class="md-nav__link">
    Change display properties and paint on multiple nodes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-the-list-of-candidates" class="md-nav__link">
    Display the list of candidates
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#citation" class="md-nav__link">
    Citation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contribute-to-the-documentation" class="md-nav__link">
    Contribute to the Documentation
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/CCMS-UCSD/GNPSDocumentation/blob/master/docs/nap.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Network Annotation Propagation (NAP)</h1>
                
                <h2 id="network-annotation-propagation-overview">Network Annotation Propagation Overview<a class="headerlink" href="#network-annotation-propagation-overview" title="Permanent link">&para;</a></h2>
<p>Network Annotation Propagation (NAP) uses spectral networks to propagate information from spectral library matching, in order to improve in silico fragmentation candidate structure ranking. This workflow is currently in beta development stages so any feedback is welcome to improve analysis and usability. It is available <a href="https://proteomics2.ucsd.edu/ProteoSAFe/?params=%7B%22workflow%22:%22NAP_CCMS2%22%7D">here</a> under 'NAP_CCMS' Workflow drop down menu.</p>
<p>Check out the full <a href="https://github.com/DorresteinLaboratory/NAP_ProteoSAFe/">documentation</a>.</p>
<h2 id="nap-short-hands-on-tutorial">NAP short hands on tutorial<a class="headerlink" href="#nap-short-hands-on-tutorial" title="Permanent link">&para;</a></h2>
<p>The aim of this tutorial is to work as a guided tour through this documentation page and exploring the finding of <a href="#citation">Kang et al., (2018)</a>.</p>
<ol>
<li>Go to <a href="#structure-database">Structure database</a> section, download the example in house database (two columns file), add the structure <a href="http://bioinf-applied.charite.de/supernatural_new/index.php?site=search5&amp;np_id=SN00230021">SN00230021</a> to the file and generate the formatted database. Make sure you use an excel like software and save as tab separated text file;</li>
<li>Go to <a href="#running-nap">Running NAP</a> section, open NAP input interface, make sure you are logged and run a job with example parameters present in the picture (including job id: '3b215c4b25594b9c85d92de547815c0a' and cluster index: 56), with the database you just created. Go here if need instructions to <a href="../fileupload/">upload the database</a>;</li>
<li>When your job is processed, you should receive a <a href="https://proteomics2.ucsd.edu/ProteoSAFe/status.jsp?task=2d7b00ff710c42438146f2bc311f1785">link</a> similar to that. Go to section <a href="#online-exploration-of-nap-results">Online Exploration</a> and browse the results; </li>
<li>Follow the same <a href="https://proteomics2.ucsd.edu/ProteoSAFe/status.jsp?task=2d7b00ff710c42438146f2bc311f1785">link</a> above. Go to section <a href="#nap-visualization-in-cytoscape">NAP Visualization in Cytoscape</a> and browse the results; </li>
</ol>
<h2 id="data-input-preparation">Data Input Preparation<a class="headerlink" href="#data-input-preparation" title="Permanent link">&para;</a></h2>
<p>The following inputs are used for NAP:</p>
<ol>
<li>Molecular network task id, see <a href="../networking/">Molecular Networking</a> (required)</li>
<li>Identifier(s) of databases and/or user provided databases (required)</li>
</ol>
<h3 id="structure-database">Structure database<a class="headerlink" href="#structure-database" title="Permanent link">&para;</a></h3>
<p>There are basically three options for database structure selection:</p>
<ol>
<li>Input one or more databases, separated by ",". Available options are: GNPS, HMDB, SUPNAT, CHEBI, DRUGBANK and FooDB. Be aware that these databases are static and new changes on the source databases are not incorporated automatically.</li>
<li>Input an in house generated database. See <a href="../networking/">Molecular Networking</a> documentation to learn how to use the drag and drop upload.
A standard format is required for the in house database. One can easily collect structures in the literature and format a tab separated files with SMILES strings and a character identifier of any kind, as the example database <a href="https://raw.githubusercontent.com/DorresteinLaboratory/GNPSDocumentation/master/docs/static/JNP_Kyobin.txt">Right-click, and Save link as</a>:<br />
<img alt="inhousedb" src="../img/nap/example_inhouse_database.png" /></li>
</ol>
<p>Having an in house collection, before the use in NAP, the user has to first format the database, using the following <a href="http://dorresteinappshub.ucsd.edu:5002/upload">webserver</a>:</p>
<p><img alt="conversionweb" src="../img/nap/format_database_webform.png" /></p>
<p>After submission for conversion the user should receive an email with the link to download a file in the following format <a href="https://raw.githubusercontent.com/DorresteinLaboratory/GNPSDocumentation/master/docs/static/JNP_Kyobin_formatted.txt">Right-click, and Save link as</a>:</p>
<p><img alt="inhousedbformat" src="../img/nap/inhouse_databse_formatted.png" /></p>
<ol>
<li>The combination of the two databases above. NAP allows the combination of different databases, either through multiple database identifiers, or by the combination of identifiers and text file. While this feature allows flexibility, it is important narrow the search space for the system under study.</li>
</ol>
<h2 id="running-nap">Running NAP<a class="headerlink" href="#running-nap" title="Permanent link">&para;</a></h2>
<h3 id="nap-workflow-selection">NAP Workflow Selection<a class="headerlink" href="#nap-workflow-selection" title="Permanent link">&para;</a></h3>
<p>From the main <a href="https://gnps.ucsd.edu/ProteoSAFe/static/gnps-splash.jsp">GNPS page</a>, you can access NAP clicking the banner</p>
<p><img alt="napanalysis" src="../img/nap/nap_selection.png" /></p>
<p>and then selecting NAP in the corresponding description. You can also directly open clicking <a href="https://proteomics2.ucsd.edu/ProteoSAFe/?params=%7B%22workflow%22:%22NAP_CCMS2%22%7D">"here"</a>.</p>
<p>This will take you to the workflow input to start NAP. The image below shows an example of the most important parameters</p>
<p><img alt="nap_input_form" src="../img/nap/nap_input_page.png" /></p>
<p>The first parameter is the GNPS network task id, this id can be found in the results email sent by GNPS or in the url, as shown in the image below, the task id is '3b215c4b25594b9c85d92de547815c0a'</p>
<p><img alt="taskid" src="../img/nap/gnps_taskid_example.png" /></p>
<p>and the molecular family (connected component) containing the 'cluster index' 56 can be inspected in the <a href="https://gnps.ucsd.edu/ProteoSAFe/result.jsp?view=network_displayer&amp;componentindex=1&amp;task=3b215c4b25594b9c85d92de547815c0a#%7B%7D">molecular network</a>. </p>
<p>A detailed description of the parameters is provided <a href="#parameter-walkthrough">below</a>.</p>
<h3 id="parameter-walkthrough">Parameter Walkthrough<a class="headerlink" href="#parameter-walkthrough" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td>GNPS job ID</td>
<td>GNPS molecular networking task id.</td>
<td></td>
</tr>
<tr>
<td>Number of a cluster index</td>
<td>Any cluster index of a connected component of interest in a Molecular Network. The propagation is limited by the connected component.</td>
<td></td>
</tr>
<tr>
<td>Cosine value to subselect inside a cluster</td>
<td>Used to disconnect nodes in very dense molecular networks and decrease the number of nodes to be analyzed.</td>
<td>0.5</td>
</tr>
<tr>
<td>N first candidates for consensus score</td>
<td>Number of candidate structures of the neighbor nodes used for Consensus re-ranking.</td>
<td>10</td>
</tr>
<tr>
<td>Use fusion result for consensus</td>
<td>Whether to use the result from Fusion re-ranking to perform Consensus re-ranking.</td>
<td>1</td>
</tr>
<tr>
<td>Accuracy for exact mass candidate search (ppm)</td>
<td>Accuracy used for structure database search. The predicted neutral mass (for a given adduct selected) is compared to the exact mass of the structures provided.</td>
<td>15</td>
</tr>
<tr>
<td>Acquisition mode</td>
<td>Mass spectrometry acquisition mode.</td>
<td>Positive</td>
</tr>
<tr>
<td>Adduct ion type</td>
<td>Expected adduct type for the precursor ion mass.</td>
<td>[M+H]</td>
</tr>
<tr>
<td>Multiple adduct types</td>
<td>Input one or more adducts, separated by ",". Available options are: listed on the Adduct drop down menu.</td>
<td></td>
</tr>
<tr>
<td>Structure databases</td>
<td>Input one or more databases, separated by ",". Available options are: <a href="https://gnps.ucsd.edu/ProteoSAFe/libraries.jsp">GNPS</a>, <a href="http://www.hmdb.ca/">HMDB</a>, <a href="http://bioinf-applied.charite.de/supernatural_new/index.php">SUPNAT</a>, <a href="https://www.ebi.ac.uk/chebi/">CHEBI</a>, <a href="https://www.drugbank.ca/">DRUGBANK</a> and <a href="http://foodb.ca/">FooDB</a>. Use none to select only user defined.</td>
<td></td>
</tr>
<tr>
<td>Compound class to be selected</td>
<td>ClassyFire class in the following format: "class:name".</td>
<td></td>
</tr>
<tr>
<td>User provided database</td>
<td>In house candidate structure database to be used in the search.</td>
<td></td>
</tr>
<tr>
<td>Skip parent mass selection</td>
<td>Should be used only in combination with class selection.</td>
<td>0</td>
</tr>
<tr>
<td>User provided MetFrag parameter file</td>
<td>Check <a href="https://github.com/DorresteinLaboratory/NAP_ProteoSAFe/blob/master/nap_ccms2/Snap/sl_mock_parameter.txt">here</a> for a template.</td>
<td></td>
</tr>
<tr>
<td>Maximum number of candidate structures in the graph:</td>
<td>Number od candidate structures to be exported in the Cytoscape graph.</td>
<td>10</td>
</tr>
<tr>
<td>Workflow type</td>
<td><a href="../networking/">Standard</a> or <a href="../featurebasedmolecularnetworking/">MZmine</a>.</td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="online-exploration-of-nap-results">Online Exploration of NAP results<a class="headerlink" href="#online-exploration-of-nap-results" title="Permanent link">&para;</a></h2>
<p>After completing a NAP workflow, the results can be browsed in the web interface. The web interface provides a quick and easy way to perform initial analysis of your data, particularly if you are interested in a specific structure or class of structures and want to inspect in the results.</p>
<p>To have access to the web interface click on the 'EXPERIMENTAL - NAPviewer' at the results page: </p>
<p><img alt="napviewer_linkout" src="../img/nap/nap_results_page_web.png" /></p>
<p>The result summaries can be divided in four sections.</p>
<h3 id="1-structure-view">1. Structure view<a class="headerlink" href="#1-structure-view" title="Permanent link">&para;</a></h3>
<p>NAP attempts to re-rank the candidate structures provided by <a href="http://c-ruttkies.github.io/MetFrag/">MetFrag</a> using the information provided by the molecular network. This first view shows the <strong>S</strong>tructures ranked by MetFrag and the ones re-ranked by NAP to allow the user to quickly inspect if the propagation improved the ranking:</p>
<p><img alt="napviewer_structures" src="../img/nap/napviewer_structure_view_mouse.png" /></p>
<h3 id="2-graph-view">2. Graph view<a class="headerlink" href="#2-graph-view" title="Permanent link">&para;</a></h3>
<p>As the re-ranking is performing obtaining information from neighbor nodes, the <strong>G</strong>raph view displays the direct neighbor's first candidate structures of a given re-ranked node to allow the user to inspect if the re-ranking is consistent in the network:</p>
<p><img alt="napviewer_graph" src="../img/nap/napviewer_node_view_mouse.png" /></p>
<p>The node border colors indicate the source of structure: green - reference spectral library structure; magenta MetFrag's first candidate; blue Fusion's first candidate and red Consensus' first candidate.</p>
<h3 id="3-fragment-view">3. Fragment view<a class="headerlink" href="#3-fragment-view" title="Permanent link">&para;</a></h3>
<p>Some important aspects of structural prediction are: how many fragments were predicted, which fragments and which substructures were assigned to the predictions. The <strong>F</strong>ragment view displays the direct fragments predicted for each structure in the candidate list of a given fragmentation spectrum (represented by a node in the network):</p>
<p><img alt="napviewer_graph" src="../img/nap/napviewer_fragmentation_mouse.png" /></p>
<p>By hovering the mouse over the candidate fragment it is possible to see the substructure predicted for the fragment.</p>
<h3 id="4-full-candidate-list-view">4. Full candidate list view<a class="headerlink" href="#4-full-candidate-list-view" title="Permanent link">&para;</a></h3>
<p>As structural prediction is very challenging. The correct candidate may not be the first in the list, therefore it is important to be able to browse the candidate list. The <strong>Link</strong> containing the full list of candidate structures found in NAP search is provided. The first column of the candidate's table contains a link out for the respective database where the structure was originated. The table also contains the ranking for MetFrag, Fusion and Consensus, the link for number of fragments predicted for each candidate structure, a link to fragment plot representation and a column with color coded structural similarity grouping that can be easily associated with candidate's <a href="http://classyfire.wishartlab.com/">ClassyFire</a> class, when available:</p>
<p><img alt="napviewer_graph" src="../img/nap/napviewer_candidate_list_group.png" /></p>
<h2 id="nap-visualization-in-cytoscape">NAP Visualization in Cytoscape<a class="headerlink" href="#nap-visualization-in-cytoscape" title="Permanent link">&para;</a></h2>
<p>In a similar way as <a href="../networking/">Molecular Networking</a> uses <a href="../cytoscape/">Cytoscape</a> to visualize the whole network, we can visualize structure prediction of entire connected component or networks using the output from NAP.</p>
<p>Cytoscape (we have used version &gt;= 3.4) is available for download from <a href="http://www.cytoscape.org">here</a>. </p>
<h3 id="download-nap-cytoscape-files">Download NAP Cytoscape files<a class="headerlink" href="#download-nap-cytoscape-files" title="Permanent link">&para;</a></h3>
<p>To download NAP's Cytoscape file, go back to the results page of your task:</p>
<p><img alt="nap_cytoscape" src="../img/nap/nap_results_page_summary.png" /></p>
<p>and download the compacted file containing the 'structure_graph_alt.xgmml' file.</p>
<p><img alt="nap_download" src="../img/nap/nap_results_page_summary_download.png" /></p>
<p>After the download, remember to uncompress the file for downstream use.</p>
<h3 id="installing-the-chemviz-plugin">Installing the ChemViz plugin<a class="headerlink" href="#installing-the-chemviz-plugin" title="Permanent link">&para;</a></h3>
<p>To visualize the structures on NAP output we need the <a href="https://apps.cytoscape.org/apps/chemviz">ChemViz</a> plugin. The easiest way to install it is using Cytoscape's App Manager, as shown below:</p>
<p><img alt="install_chemviz" src="../img/nap/chemviz_install.gif" /></p>
<h2 id="load-nap-cytoscape-file-and-apply-layout">Load NAP Cytoscape file and apply layout<a class="headerlink" href="#load-nap-cytoscape-file-and-apply-layout" title="Permanent link">&para;</a></h2>
<p>Load the 'structure_graph_alt.xgmml' file:</p>
<p><img alt="nap_cytoscape" src="../img/nap/load_xgmml.gif" /></p>
<p>and apply a layout to spread the nodes:</p>
<p><img alt="nap_layout" src="../img/nap/cytoscape_layout.gif" /></p>
<h2 id="change-image-display-properties-and-paint-library-match-structure">Change image display properties and paint library match structure<a class="headerlink" href="#change-image-display-properties-and-paint-library-match-structure" title="Permanent link">&para;</a></h2>
<p>The 'structure_graph_alt.xgmml' file contains some pre-set elements to aid structure display. Nodes possessing a structure are empty squares. Node borders are either green (spectral library match) or blue (in silico prediction). In silico predictions can be a combination of MetFrag, Fusion and Consensus. Browsing the 'Table Panel' is possible to inspect which scoring method has structures available in the columns MetFrag/Fusion/ConsensusSMILES. To use one of these columns to display the structures we have first to change the properties of ChemViz, by doing:</p>
<p><img alt="library_smiles" src="../img/nap/set_spectral_library_smiles.gif" /></p>
<p>After setting the desired source column to display the structure one can just 'paint' the structure on the node:</p>
<p><img alt="paint_library" src="../img/nap/paint_spectral_library_structure.gif" /></p>
<h3 id="change-display-properties-and-paint-on-multiple-nodes">Change display properties and paint on multiple nodes<a class="headerlink" href="#change-display-properties-and-paint-on-multiple-nodes" title="Permanent link">&para;</a></h3>
<p>As we described in the publications <a href="#citation">below</a> we have a decreasing order of confidence on structural prediction spectral library match &gt; Fusion scoring &gt; Consensus scoring &gt; MetFrag scoring. To change for Fusion scoring structures you can do:</p>
<p><img alt="fusion_smiles" src="../img/nap/set_fusion_smiles.gif" /></p>
<p>and paint the structures:</p>
<p><img alt="paint_fusion" src="../img/nap/paint_fusion_structure.gif" /></p>
<h3 id="display-the-list-of-candidates">Display the list of candidates<a class="headerlink" href="#display-the-list-of-candidates" title="Permanent link">&para;</a></h3>
<p>As discussed in the <a href="#online-exploration-of-nap-results">Online Exploration</a> section, the most correct structure may not be the first candidate. Therefore we can display the structures outputted from our <a href="#parameter-walkthrough">initial parameters</a>:</p>
<p><img alt="cand_chemviz" src="../img/nap/display_consensus_candidates.gif" /></p>
<h2 id="citation">Citation<a class="headerlink" href="#citation" title="Permanent link">&para;</a></h2>
<p><a href="http://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1006089">da Silva, Ricardo R., Mingxun Wang, Louis-Flix Nothias, Justin JJ van der Hooft, Andrs Mauricio Caraballo-Rodrguez, Evan Fox, Marcy J. Balunas, Jonathan L. Klassen, Norberto Peporine Lopes, and Pieter C. Dorrestein. "Propagating annotations of molecular networks using in silico fragmentation." PLoS computational biology 14, no. 4 (2018): e1006089.</a></p>
<p><a href="https://pubs.acs.org/doi/abs/10.1021/acs.jnatprod.8b00292">Kyo Bin Kang, Eun Jin Park, Ricardo R. da Silva, Hyun Woo Kim, Pieter C. Dorrestein, Sang Hyun Sung. "Targeted Isolation of Neuroprotective Dicoumaroyl Neolignans and Lignans from Sageretia theezans Using in Silico Molecular Network Annotation Propagation-Based Dereplication" Journal of Natural Products, 2018, 81 (8), pp 18191828</a></p>
<h2 id="contribute-to-the-documentation">Contribute to the Documentation<a class="headerlink" href="#contribute-to-the-documentation" title="Permanent link">&para;</a></h2>
<ul>
<li>For informations/feature request, please open an "Issue" on the <a href="https://github.com/CCMS-UCSD/GNPSDocumentation"><em>CCMS-UCSD/GNPSDocumentation</em></a> GitHub repository.</li>
<li>To contribute directly to the GNPS documentation, fork the <a href="https://github.com/CCMS-UCSD/GNPSDocumentation"><em>CCMS-UCSD/GNPSDocumentation</em></a> repository, and make a "Pull Request".</li>
</ul>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: April 25, 2020 00:54:41
    
  </small>
</div>
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../dereplicator/" title="DEREPLICATOR" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                DEREPLICATOR
              </div>
            </div>
          </a>
        
        
          <a href="../ms2lda/" title="MS2LDA and MotifDB Substructure Discovery" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                MS2LDA and MotifDB Substructure Discovery
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>