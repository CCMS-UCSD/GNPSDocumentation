<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Molecular Networking Views - GNPS Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Molecular Networking Views";
    var mkdocs_page_input_path = "networkingviews.md";
    var mkdocs_page_url = "/networkingviews/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> GNPS Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">GNPS Introduction</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../isgnpsright/">Is my data compatible with GNPS?</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../faq/">Frequently Asked Questions</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../superquickstart/">Superquick Start Guide</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../quickstart/">Quick Start Guide</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../gnpsanalysisoverview/">GNPS Analysis Tools Overview</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../changelog/">Change Log</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../contact/">Contact</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Mass Spec Background</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../massspecbackground/targeteduntargeted/">Targeted vs Untargeted</a>
                </li>
                <li class="">
                    
    <a class="" href="../massspecbackground/tandemms/">Tandem Mass Spectrometry (MS/MS)</a>
                </li>
                <li class="">
                    
    <a class="" href="../massspecbackground/identification/">Methods of Identification</a>
                </li>
                <li class="">
                    
    <a class="" href="../massspecbackground/quantification/">Method of Quantification</a>
                </li>
                <li class="">
                    
    <a class="" href="../massspecbackground/networkingtheory/">Theory of Molecular Networking</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Data Preparation/Upload</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../fileconversion/">Mass Spectrometry File Conversion</a>
                </li>
                <li class="">
                    
    <a class="" href="../fileupload/">GNPS File Upload</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Recommended Data Analysis</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../networking/">Molecular Networking</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Molecular Networking Views</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#view-all-library-hits">View All Library Hits</a></li>
    

    <li class="toctree-l3"><a href="#view-all-clusters-with-ids">View All Clusters With IDs</a></li>
    

    <li class="toctree-l3"><a href="#view-spectral-families">View Spectral Families</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#network-labeling">Network Labeling</a></li>
        
            <li><a class="toctree-l4" href="#node-pie-coloring">Node Pie Coloring</a></li>
        
            <li><a class="toctree-l4" href="#edge-highlights">Edge Highlights</a></li>
        
            <li><a class="toctree-l4" href="#detailed-interrogation-of-network-spectra">Detailed Interrogation of Network Spectra</a></li>
        
            <li><a class="toctree-l4" href="#examining-spectrum-spectrum-alignment">Examining Spectrum Spectrum Alignment</a></li>
        
            <li><a class="toctree-l4" href="#network-spectra-library-matches">Network Spectra Library Matches</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#view-principle-coordinate-analysis-pcoa-plots">View Principle Coordinate Analysis (PCoA) Plots</a></li>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../librarysearch/">Spectral Library Search</a>
                </li>
                <li class="">
                    
    <a class="" href="../singlespectrum/">Single Spectrum Repository Search</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Advanced Data Analysis</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../cytoscape/">Molecular Networking in Cytoscape</a>
                </li>
                <li class="">
                    
    <a class="" href="../dereplicator/">Dereplicator</a>
                </li>
                <li class="">
                    
    <a class="" href="../nap/">Network Annotation Propagation (NAP)</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Experiment Data Analysis</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../featurebasedmolecularnetworking/">Feature Based Molecular Networking</a>
                </li>
                <li class="">
                    
    <a class="" href="../ms2lda/">MS2LDA Deconvolution</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Community/Social Features</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Spectral Libraries</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../browselibraries/">Browsing Reference Spectral Libraries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../spectrumcuration/">Reference Spectral Library Curation</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../downloadlibraries/">Downloading Reference Spectral Libraries</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Datasets</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../datasets/">Dataset Creation/Sharing</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../continuousid/">Continuous Identification</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../moleculeexplorer/">Molecule Explorer</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../user/">User Page</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../troubleshooting/">Troubleshooting</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">GNPS Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Recommended Data Analysis &raquo;</li>
        
      
    
    <li>Molecular Networking Views</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="view-all-library-hits">View All Library Hits</h2>
<p>This view shows all the library matches between the consensus MS/MS spectra and the GNPS MS/MS Spectral Libraries.</p>
<p><img alt="img" src="../img/networkingviews/view_library_hits.png" /></p>
<p>To view the quality of the MS/MS match, click "View Mirror Match" to display a mirror plot</p>
<p><img alt="img" src="../img/networkingviews/mirror_plot.png" /></p>
<h2 id="view-all-clusters-with-ids">View All Clusters With IDs</h2>
<p>View All Clusters allow a user to view the all consensus spectra in the molecular networking analysis.</p>
<p><img alt="img" src="../img/networkingviews/allclusters.png" /></p>
<p>To view all the input MS/MS spectra that went into the consensus spectrum, click the link in the "ClusterIdx" link</p>
<p><img alt="img" src="../img/networkingviews/clusterspectra.png" /></p>
<p>This brings up all the input MS/MS spectra. To visualize each spectrum, we can click the "View Spectrum" button.</p>
<p><img alt="img" src="../img/networkingviews/clusterplot.png" /></p>
<h2 id="view-spectral-families">View Spectral Families</h2>
<p>View Spectra Families allows users to look at the molecular networks at a higher level. Users can see all the connected components. These connected components are all the nodes that are connected to each other. From here users can tell how big each component is, how many raw spectra are captured by the particular component, and also the libraries identifications of all the spectra in each component.</p>
<p><img alt="img" src="../img/networkingviews/spectralfamilies.png" /></p>
<p>To visualize each network, click on the "Visualize Network" link</p>
<p><img alt="img" src="../img/networkingviews/visualizenetworklink.png" /></p>
<p>This brings up an in-browser visualization for a given connected component</p>
<p><img alt="img" src="../img/networkingviews/networkviz.png" /></p>
<p>Here users can explore the connected component in the molecular network. Each circle in the left network panel represents a consensus spectrum and edge represents related fragmentation patterns. The default color of the nodes is gray, with blue nodes representing consensus MS/MS spectra that were identified by library search.</p>
<p>The default labeling is the cluster/node index which is rather uninformative, but there are alternative labelings possible by selecting the appropriate node label from the Node Label legend box.</p>
<p><img alt="img" src="../img/networkingviews/networklabels.png" /></p>
<h3 id="network-labeling">Network Labeling</h3>
<p><strong>Node Labels</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cluster index</td>
<td>cluster index used globally for each cluster across all networking views</td>
</tr>
<tr>
<td>parent mass</td>
<td>precursor mass of the consensus spectrum</td>
</tr>
<tr>
<td>LibraryID</td>
<td>library identification name for the node if a library search were performed</td>
</tr>
<tr>
<td>EvenOdd</td>
<td>1/0 for even or odd depending on the parent mass. Used for nitrogen rule</td>
</tr>
<tr>
<td>Peptide</td>
<td>peptide labeling</td>
</tr>
<tr>
<td>None</td>
<td>No Labeling</td>
</tr>
</tbody>
</table>
<p><strong>Edge Labels</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cosine</td>
<td>Cosine score measuring fragmentation similarity between two nodes</td>
</tr>
<tr>
<td>DeltaMZ</td>
<td>The Delta MZ of the spectra</td>
</tr>
<tr>
<td>None</td>
<td>No Labeling</td>
</tr>
</tbody>
</table>
<h3 id="node-pie-coloring">Node Pie Coloring</h3>
<p>An additional way to customize the view of the networks is to color the nodes. By default the nodes are gray, but users can color the nodes based upon spectra counts of the groups they came from. By default the coloring labels will be based upon the default groups G1, G2, G3, G4, G5, and G6. The coloring of each node will be a pie, and the proportion colored of that pie is the proportion of the spectral counts coming from each respective group. Additionally, the Node Coloring legend describes the color for each group. Users can also use their own group names if they defined their own arbitrary groups when creating the network.</p>
<p>To draw the pies, click "Draw Pies"</p>
<p><img alt="img" src="../img/networkingviews/drawpies.png" /></p>
<h3 id="edge-highlights">Edge Highlights</h3>
<p>Edges by default include arrows pointing from low mass spectra to high mass spectra. Further, edges can also be colored. Users are able to enter a delta mz of their choice to highlight in the network. The highlighted edges will appear in red.</p>
<p><img alt="img" src="../img/networkingviews/edgehighlight.png" /></p>
<h3 id="detailed-interrogation-of-network-spectra">Detailed Interrogation of Network Spectra</h3>
<p>While its great to visualize the network properly, to truly make sense of the network users must be able to interrogate the network metadata and examine the actual spectra. To this end, users are able to find out information about a particular node by simply hovering their mouse over node. This will bring up a hover box describing the node information. At present the display shows like this:</p>
<p><img alt="img" src="../img/networkingviews/nodedetails.png" /></p>
<p>This shows basic information about the node, as well as the structure if the node is identified by library search and the structure was provided in the library spectrum.</p>
<p>To further investigate the network, users can left click on a node to plot the spectrum in the top right panel (right click to plot in bottom right panel), along with the spectrum information and structure if one is available.</p>
<p><img alt="img" src="../img/networkingviews/networkplot.png" /></p>
<p>The spectrum image is interactive so users can zoom in and look at precisely at the spectrum to make sense of the data. Additionally users can compare two spectra in the network by simple right clicking on a different node to render its information in the bottom right panel.</p>
<p>Users can also click on an edge and both nodes that are connected to the edge are automatically displayed in the top and bottom right panels.</p>
<h3 id="examining-spectrum-spectrum-alignment">Examining Spectrum Spectrum Alignment</h3>
<p>Users can quickly ascertain how two spectra align to each other at the peak level. By clicking the "Align Spec" button to obtain the score between the spectrum in the top and the spectrum in the bottom render panels.</p>
<p><img alt="img" src="../img/networkingviews/alignspec.png" /></p>
<p>Additionally, the plots of the spectra will update to reflect the alignments shown here:</p>
<p><img alt="img" src="../img/networkingviews/alignspecplot.png" /></p>
<p>with red peaks representing peaks that match at the exact same masses between the top and bottom spectra, and blue peaks representing peaks matching at shifted masses. Additionally, each peak is labeled with a unique identification number that shows the correspondence of peak matches between the top and bottom spectra.</p>
<h3 id="network-spectra-library-matches">Network Spectra Library Matches</h3>
<p>To view how exactly a spectrum in the network has matched to a library spectrum, users can click the "Show Library Match" in the side panel on the far right. This will bring up this middle panel shown below comparing the spectrum in the network with the library spectrum in green.</p>
<p><img alt="img" src="../img/networkingviews/networkviewmatch.png" /></p>
<h2 id="view-principle-coordinate-analysis-pcoa-plots">View Principle Coordinate Analysis (PCoA) Plots</h2>
<p>To view PCoA plots, please enable that output on the input page (default is on) in the "Advanced Output Options" section and enabling "Create Cluster Buckets and BioM/PCoA Plots output". This will create the appropriate data structures for PCoA analysis. To include additional metadata to color the nodes according to the sample types, include and add additional columns for metadata describing the experiment (see <a href="???">documentation</a>).</p>
<p>To view the PCoA plots when the parameters are appropriately set, click the "View Emporer PCoA Plot in GNPS" under the section "Advanced Views - Third Party Visualization" on the results page of your GNPS job.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../librarysearch/" class="btn btn-neutral float-right" title="Spectral Library Search">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../networking/" class="btn btn-neutral" title="Molecular Networking"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../networking/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../librarysearch/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js"></script>
      <script src="../search/require.js"></script>
      <script src="../search/search.js"></script>

</body>
</html>
